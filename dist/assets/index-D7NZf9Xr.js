var tl=Object.defineProperty;var sl=(t,e,s)=>e in t?tl(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var zn=(t,e,s)=>sl(t,typeof e!="symbol"?e+"":e,s);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();/**
* @vue/shared v3.4.31
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function fn(t,e){const s=new Set(t.split(","));return r=>s.has(r)}const ie={},Vt=[],Ie=()=>{},rl=()=>!1,er=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),dn=t=>t.startsWith("onUpdate:"),fe=Object.assign,pn=(t,e)=>{const s=t.indexOf(e);s>-1&&t.splice(s,1)},nl=Object.prototype.hasOwnProperty,G=(t,e)=>nl.call(t,e),D=Array.isArray,zt=t=>tr(t)==="[object Map]",co=t=>tr(t)==="[object Set]",B=t=>typeof t=="function",ce=t=>typeof t=="string",yt=t=>typeof t=="symbol",oe=t=>t!==null&&typeof t=="object",uo=t=>(oe(t)||B(t))&&B(t.then)&&B(t.catch),ho=Object.prototype.toString,tr=t=>ho.call(t),il=t=>tr(t).slice(8,-1),fo=t=>tr(t)==="[object Object]",gn=t=>ce(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,hs=fn(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),sr=t=>{const e=Object.create(null);return s=>e[s]||(e[s]=t(s))},ol=/-(\w)/g,Ye=sr(t=>t.replace(ol,(e,s)=>s?s.toUpperCase():"")),al=/\B([A-Z])/g,ts=sr(t=>t.replace(al,"-$1").toLowerCase()),rr=sr(t=>t.charAt(0).toUpperCase()+t.slice(1)),wr=sr(t=>t?`on${rr(t)}`:""),vt=(t,e)=>!Object.is(t,e),Bs=(t,...e)=>{for(let s=0;s<t.length;s++)t[s](...e)},po=(t,e,s,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:s})},Nr=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Wn;const go=()=>Wn||(Wn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function _n(t){if(D(t)){const e={};for(let s=0;s<t.length;s++){const r=t[s],n=ce(r)?hl(r):_n(r);if(n)for(const i in n)e[i]=n[i]}return e}else if(ce(t)||oe(t))return t}const ll=/;(?![^(]*\))/g,cl=/:([^]+)/,ul=/\/\*[^]*?\*\//g;function hl(t){const e={};return t.replace(ul,"").split(ll).forEach(s=>{if(s){const r=s.split(cl);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function mn(t){let e="";if(ce(t))e=t;else if(D(t))for(let s=0;s<t.length;s++){const r=mn(t[s]);r&&(e+=r+" ")}else if(oe(t))for(const s in t)t[s]&&(e+=s+" ");return e.trim()}const fl="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",dl=fn(fl);function _o(t){return!!t||t===""}const mo=t=>!!(t&&t.__v_isRef===!0),vn=t=>ce(t)?t:t==null?"":D(t)||oe(t)&&(t.toString===ho||!B(t.toString))?mo(t)?vn(t.value):JSON.stringify(t,vo,2):String(t),vo=(t,e)=>mo(e)?vo(t,e.value):zt(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((s,[r,n],i)=>(s[Er(r,i)+" =>"]=n,s),{})}:co(e)?{[`Set(${e.size})`]:[...e.values()].map(s=>Er(s))}:yt(e)?Er(e):oe(e)&&!D(e)&&!fo(e)?String(e):e,Er=(t,e="")=>{var s;return yt(t)?`Symbol(${(s=t.description)!=null?s:e})`:t};/**
* @vue/reactivity v3.4.31
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Re;class yo{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Re,!e&&Re&&(this.index=(Re.scopes||(Re.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const s=Re;try{return Re=this,e()}finally{Re=s}}}on(){Re=this}off(){Re=this.parent}stop(e){if(this._active){let s,r;for(s=0,r=this.effects.length;s<r;s++)this.effects[s].stop();for(s=0,r=this.cleanups.length;s<r;s++)this.cleanups[s]();if(this.scopes)for(s=0,r=this.scopes.length;s<r;s++)this.scopes[s].stop(!0);if(!this.detached&&this.parent&&!e){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0,this._active=!1}}}function bo(t){return new yo(t)}function pl(t,e=Re){e&&e.active&&e.effects.push(t)}function wo(){return Re}function gl(t){Re&&Re.cleanups.push(t)}let Ct;class yn{constructor(e,s,r,n){this.fn=e,this.trigger=s,this.scheduler=r,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,pl(this,n)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,bt();for(let e=0;e<this._depsLength;e++){const s=this.deps[e];if(s.computed&&(_l(s.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),wt()}return this._dirtyLevel>=4}set dirty(e){this._dirtyLevel=e?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=gt,s=Ct;try{return gt=!0,Ct=this,this._runnings++,Gn(this),this.fn()}finally{Jn(this),this._runnings--,Ct=s,gt=e}}stop(){this.active&&(Gn(this),Jn(this),this.onStop&&this.onStop(),this.active=!1)}}function _l(t){return t.value}function Gn(t){t._trackId++,t._depsLength=0}function Jn(t){if(t.deps.length>t._depsLength){for(let e=t._depsLength;e<t.deps.length;e++)Eo(t.deps[e],t);t.deps.length=t._depsLength}}function Eo(t,e){const s=t.get(e);s!==void 0&&e._trackId!==s&&(t.delete(e),t.size===0&&t.cleanup())}let gt=!0,Fr=0;const So=[];function bt(){So.push(gt),gt=!1}function wt(){const t=So.pop();gt=t===void 0?!0:t}function bn(){Fr++}function wn(){for(Fr--;!Fr&&Br.length;)Br.shift()()}function ko(t,e,s){if(e.get(t)!==t._trackId){e.set(t,t._trackId);const r=t.deps[t._depsLength];r!==e?(r&&Eo(r,t),t.deps[t._depsLength++]=e):t._depsLength++}}const Br=[];function Po(t,e,s){bn();for(const r of t.keys()){let n;r._dirtyLevel<e&&(n??(n=t.get(r)===r._trackId))&&(r._shouldSchedule||(r._shouldSchedule=r._dirtyLevel===0),r._dirtyLevel=e),r._shouldSchedule&&(n??(n=t.get(r)===r._trackId))&&(r.trigger(),(!r._runnings||r.allowRecurse)&&r._dirtyLevel!==2&&(r._shouldSchedule=!1,r.scheduler&&Br.push(r.scheduler)))}wn()}const Oo=(t,e)=>{const s=new Map;return s.cleanup=t,s.computed=e,s},Ws=new WeakMap,At=Symbol(""),Hr=Symbol("");function ke(t,e,s){if(gt&&Ct){let r=Ws.get(t);r||Ws.set(t,r=new Map);let n=r.get(s);n||r.set(s,n=Oo(()=>r.delete(s))),ko(Ct,n)}}function st(t,e,s,r,n,i){const o=Ws.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(s==="length"&&D(t)){const l=Number(r);o.forEach((u,c)=>{(c==="length"||!yt(c)&&c>=l)&&a.push(u)})}else switch(s!==void 0&&a.push(o.get(s)),e){case"add":D(t)?gn(s)&&a.push(o.get("length")):(a.push(o.get(At)),zt(t)&&a.push(o.get(Hr)));break;case"delete":D(t)||(a.push(o.get(At)),zt(t)&&a.push(o.get(Hr)));break;case"set":zt(t)&&a.push(o.get(At));break}bn();for(const l of a)l&&Po(l,4);wn()}function ml(t,e){const s=Ws.get(t);return s&&s.get(e)}const vl=fn("__proto__,__v_isRef,__isVue"),xo=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(yt)),Qn=yl();function yl(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...s){const r=J(this);for(let i=0,o=this.length;i<o;i++)ke(r,"get",i+"");const n=r[e](...s);return n===-1||n===!1?r[e](...s.map(J)):n}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...s){bt(),bn();const r=J(this)[e].apply(this,s);return wn(),wt(),r}}),t}function bl(t){yt(t)||(t=String(t));const e=J(this);return ke(e,"has",t),e.hasOwnProperty(t)}class Ro{constructor(e=!1,s=!1){this._isReadonly=e,this._isShallow=s}get(e,s,r){const n=this._isReadonly,i=this._isShallow;if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return i;if(s==="__v_raw")return r===(n?i?jl:$o:i?Ao:Co).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=D(e);if(!n){if(o&&G(Qn,s))return Reflect.get(Qn,s,r);if(s==="hasOwnProperty")return bl}const a=Reflect.get(e,s,r);return(yt(s)?xo.has(s):vl(s))||(n||ke(e,"get",s),i)?a:ue(a)?o&&gn(s)?a:a.value:oe(a)?n?Io(a):xs(a):a}}class To extends Ro{constructor(e=!1){super(!1,e)}set(e,s,r,n){let i=e[s];if(!this._isShallow){const l=ys(i);if(!Gs(r)&&!ys(r)&&(i=J(i),r=J(r)),!D(e)&&ue(i)&&!ue(r))return l?!1:(i.value=r,!0)}const o=D(e)&&gn(s)?Number(s)<e.length:G(e,s),a=Reflect.set(e,s,r,n);return e===J(n)&&(o?vt(r,i)&&st(e,"set",s,r):st(e,"add",s,r)),a}deleteProperty(e,s){const r=G(e,s);e[s];const n=Reflect.deleteProperty(e,s);return n&&r&&st(e,"delete",s,void 0),n}has(e,s){const r=Reflect.has(e,s);return(!yt(s)||!xo.has(s))&&ke(e,"has",s),r}ownKeys(e){return ke(e,"iterate",D(e)?"length":At),Reflect.ownKeys(e)}}class wl extends Ro{constructor(e=!1){super(!0,e)}set(e,s){return!0}deleteProperty(e,s){return!0}}const El=new To,Sl=new wl,kl=new To(!0);const En=t=>t,nr=t=>Reflect.getPrototypeOf(t);function $s(t,e,s=!1,r=!1){t=t.__v_raw;const n=J(t),i=J(e);s||(vt(e,i)&&ke(n,"get",e),ke(n,"get",i));const{has:o}=nr(n),a=r?En:s?On:bs;if(o.call(n,e))return a(t.get(e));if(o.call(n,i))return a(t.get(i));t!==n&&t.get(e)}function js(t,e=!1){const s=this.__v_raw,r=J(s),n=J(t);return e||(vt(t,n)&&ke(r,"has",t),ke(r,"has",n)),t===n?s.has(t):s.has(t)||s.has(n)}function Is(t,e=!1){return t=t.__v_raw,!e&&ke(J(t),"iterate",At),Reflect.get(t,"size",t)}function Xn(t){t=J(t);const e=J(this);return nr(e).has.call(e,t)||(e.add(t),st(e,"add",t,t)),this}function Yn(t,e){e=J(e);const s=J(this),{has:r,get:n}=nr(s);let i=r.call(s,t);i||(t=J(t),i=r.call(s,t));const o=n.call(s,t);return s.set(t,e),i?vt(e,o)&&st(s,"set",t,e):st(s,"add",t,e),this}function Zn(t){const e=J(this),{has:s,get:r}=nr(e);let n=s.call(e,t);n||(t=J(t),n=s.call(e,t)),r&&r.call(e,t);const i=e.delete(t);return n&&st(e,"delete",t,void 0),i}function ei(){const t=J(this),e=t.size!==0,s=t.clear();return e&&st(t,"clear",void 0,void 0),s}function Ls(t,e){return function(r,n){const i=this,o=i.__v_raw,a=J(o),l=e?En:t?On:bs;return!t&&ke(a,"iterate",At),o.forEach((u,c)=>r.call(n,l(u),l(c),i))}}function Us(t,e,s){return function(...r){const n=this.__v_raw,i=J(n),o=zt(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=n[t](...r),c=s?En:e?On:bs;return!e&&ke(i,"iterate",l?Hr:At),{next(){const{value:h,done:p}=u.next();return p?{value:h,done:p}:{value:a?[c(h[0]),c(h[1])]:c(h),done:p}},[Symbol.iterator](){return this}}}}function it(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Pl(){const t={get(i){return $s(this,i)},get size(){return Is(this)},has:js,add:Xn,set:Yn,delete:Zn,clear:ei,forEach:Ls(!1,!1)},e={get(i){return $s(this,i,!1,!0)},get size(){return Is(this)},has:js,add:Xn,set:Yn,delete:Zn,clear:ei,forEach:Ls(!1,!0)},s={get(i){return $s(this,i,!0)},get size(){return Is(this,!0)},has(i){return js.call(this,i,!0)},add:it("add"),set:it("set"),delete:it("delete"),clear:it("clear"),forEach:Ls(!0,!1)},r={get(i){return $s(this,i,!0,!0)},get size(){return Is(this,!0)},has(i){return js.call(this,i,!0)},add:it("add"),set:it("set"),delete:it("delete"),clear:it("clear"),forEach:Ls(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{t[i]=Us(i,!1,!1),s[i]=Us(i,!0,!1),e[i]=Us(i,!1,!0),r[i]=Us(i,!0,!0)}),[t,s,e,r]}const[Ol,xl,Rl,Tl]=Pl();function Sn(t,e){const s=e?t?Tl:Rl:t?xl:Ol;return(r,n,i)=>n==="__v_isReactive"?!t:n==="__v_isReadonly"?t:n==="__v_raw"?r:Reflect.get(G(s,n)&&n in r?s:r,n,i)}const Cl={get:Sn(!1,!1)},Al={get:Sn(!1,!0)},$l={get:Sn(!0,!1)};const Co=new WeakMap,Ao=new WeakMap,$o=new WeakMap,jl=new WeakMap;function Il(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Ll(t){return t.__v_skip||!Object.isExtensible(t)?0:Il(il(t))}function xs(t){return ys(t)?t:kn(t,!1,El,Cl,Co)}function jo(t){return kn(t,!1,kl,Al,Ao)}function Io(t){return kn(t,!0,Sl,$l,$o)}function kn(t,e,s,r,n){if(!oe(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=n.get(t);if(i)return i;const o=Ll(t);if(o===0)return t;const a=new Proxy(t,o===2?r:s);return n.set(t,a),a}function $t(t){return ys(t)?$t(t.__v_raw):!!(t&&t.__v_isReactive)}function ys(t){return!!(t&&t.__v_isReadonly)}function Gs(t){return!!(t&&t.__v_isShallow)}function Lo(t){return t?!!t.__v_raw:!1}function J(t){const e=t&&t.__v_raw;return e?J(e):t}function Pn(t){return Object.isExtensible(t)&&po(t,"__v_skip",!0),t}const bs=t=>oe(t)?xs(t):t,On=t=>oe(t)?Io(t):t;class Uo{constructor(e,s,r,n){this.getter=e,this._setter=s,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new yn(()=>e(this._value),()=>Hs(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!n,this.__v_isReadonly=r}get value(){const e=J(this);return(!e._cacheable||e.effect.dirty)&&vt(e._value,e._value=e.effect.run())&&Hs(e,4),Do(e),e.effect._dirtyLevel>=2&&Hs(e,2),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function Ul(t,e,s=!1){let r,n;const i=B(t);return i?(r=t,n=Ie):(r=t.get,n=t.set),new Uo(r,n,i||!n,s)}function Do(t){var e;gt&&Ct&&(t=J(t),ko(Ct,(e=t.dep)!=null?e:t.dep=Oo(()=>t.dep=void 0,t instanceof Uo?t:void 0)))}function Hs(t,e=4,s,r){t=J(t);const n=t.dep;n&&Po(n,e)}function ue(t){return!!(t&&t.__v_isRef===!0)}function Le(t){return Mo(t,!1)}function Dl(t){return Mo(t,!0)}function Mo(t,e){return ue(t)?t:new Ml(t,e)}class Ml{constructor(e,s){this.__v_isShallow=s,this.dep=void 0,this.__v_isRef=!0,this._rawValue=s?e:J(e),this._value=s?e:bs(e)}get value(){return Do(this),this._value}set value(e){const s=this.__v_isShallow||Gs(e)||ys(e);e=s?e:J(e),vt(e,this._rawValue)&&(this._rawValue,this._rawValue=e,this._value=s?e:bs(e),Hs(this,4))}}function _t(t){return ue(t)?t.value:t}const Nl={get:(t,e,s)=>_t(Reflect.get(t,e,s)),set:(t,e,s,r)=>{const n=t[e];return ue(n)&&!ue(s)?(n.value=s,!0):Reflect.set(t,e,s,r)}};function No(t){return $t(t)?t:new Proxy(t,Nl)}function Fl(t){const e=D(t)?new Array(t.length):{};for(const s in t)e[s]=Hl(t,s);return e}class Bl{constructor(e,s,r){this._object=e,this._key=s,this._defaultValue=r,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return ml(J(this._object),this._key)}}function Hl(t,e,s){const r=t[e];return ue(r)?r:new Bl(t,e,s)}/**
* @vue/runtime-core v3.4.31
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function mt(t,e,s,r){try{return r?t(...r):t()}catch(n){ir(n,e,s)}}function qe(t,e,s,r){if(B(t)){const n=mt(t,e,s,r);return n&&uo(n)&&n.catch(i=>{ir(i,e,s)}),n}if(D(t)){const n=[];for(let i=0;i<t.length;i++)n.push(qe(t[i],e,s,r));return n}}function ir(t,e,s,r=!0){const n=e?e.vnode:null;if(e){let i=e.parent;const o=e.proxy,a=`https://vuejs.org/error-reference/#runtime-${s}`;for(;i;){const u=i.ec;if(u){for(let c=0;c<u.length;c++)if(u[c](t,o,a)===!1)return}i=i.parent}const l=e.appContext.config.errorHandler;if(l){bt(),mt(l,null,10,[t,o,a]),wt();return}}ql(t,s,n,r)}function ql(t,e,s,r=!0){console.error(t)}let ws=!1,qr=!1;const me=[];let Qe=0;const Wt=[];let ct=null,Rt=0;const Fo=Promise.resolve();let xn=null;function Rn(t){const e=xn||Fo;return t?e.then(this?t.bind(this):t):e}function Kl(t){let e=Qe+1,s=me.length;for(;e<s;){const r=e+s>>>1,n=me[r],i=Es(n);i<t||i===t&&n.pre?e=r+1:s=r}return e}function Tn(t){(!me.length||!me.includes(t,ws&&t.allowRecurse?Qe+1:Qe))&&(t.id==null?me.push(t):me.splice(Kl(t.id),0,t),Bo())}function Bo(){!ws&&!qr&&(qr=!0,xn=Fo.then(qo))}function Vl(t){const e=me.indexOf(t);e>Qe&&me.splice(e,1)}function zl(t){D(t)?Wt.push(...t):(!ct||!ct.includes(t,t.allowRecurse?Rt+1:Rt))&&Wt.push(t),Bo()}function ti(t,e,s=ws?Qe+1:0){for(;s<me.length;s++){const r=me[s];if(r&&r.pre){if(t&&r.id!==t.uid)continue;me.splice(s,1),s--,r()}}}function Ho(t){if(Wt.length){const e=[...new Set(Wt)].sort((s,r)=>Es(s)-Es(r));if(Wt.length=0,ct){ct.push(...e);return}for(ct=e,Rt=0;Rt<ct.length;Rt++){const s=ct[Rt];s.active!==!1&&s()}ct=null,Rt=0}}const Es=t=>t.id==null?1/0:t.id,Wl=(t,e)=>{const s=Es(t)-Es(e);if(s===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return s};function qo(t){qr=!1,ws=!0,me.sort(Wl);try{for(Qe=0;Qe<me.length;Qe++){const e=me[Qe];e&&e.active!==!1&&mt(e,null,14)}}finally{Qe=0,me.length=0,Ho(),ws=!1,xn=null,(me.length||Wt.length)&&qo()}}function Gl(t,e,...s){if(t.isUnmounted)return;const r=t.vnode.props||ie;let n=s;const i=e.startsWith("update:"),o=i&&e.slice(7);if(o&&o in r){const c=`${o==="modelValue"?"model":o}Modifiers`,{number:h,trim:p}=r[c]||ie;p&&(n=s.map(g=>ce(g)?g.trim():g)),h&&(n=s.map(Nr))}let a,l=r[a=wr(e)]||r[a=wr(Ye(e))];!l&&i&&(l=r[a=wr(ts(e))]),l&&qe(l,t,6,n);const u=r[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,qe(u,t,6,n)}}function Ko(t,e,s=!1){const r=e.emitsCache,n=r.get(t);if(n!==void 0)return n;const i=t.emits;let o={},a=!1;if(!B(t)){const l=u=>{const c=Ko(u,e,!0);c&&(a=!0,fe(o,c))};!s&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(oe(t)&&r.set(t,null),null):(D(i)?i.forEach(l=>o[l]=null):fe(o,i),oe(t)&&r.set(t,o),o)}function or(t,e){return!t||!er(e)?!1:(e=e.slice(2).replace(/Once$/,""),G(t,e[0].toLowerCase()+e.slice(1))||G(t,ts(e))||G(t,e))}let Ee=null,Vo=null;function Js(t){const e=Ee;return Ee=t,Vo=t&&t.type.__scopeId||null,e}function Jl(t,e=Ee,s){if(!e||t._n)return t;const r=(...n)=>{r._d&&di(-1);const i=Js(e);let o;try{o=t(...n)}finally{Js(i),r._d&&di(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Sr(t){const{type:e,vnode:s,proxy:r,withProxy:n,propsOptions:[i],slots:o,attrs:a,emit:l,render:u,renderCache:c,props:h,data:p,setupState:g,ctx:w,inheritAttrs:E}=t,R=Js(t);let j,$;try{if(s.shapeFlag&4){const M=n||r,N=M;j=Je(u.call(N,M,c,h,g,p,w)),$=a}else{const M=e;j=Je(M.length>1?M(h,{attrs:a,slots:o,emit:l}):M(h,null)),$=e.props?a:Ql(a)}}catch(M){ds.length=0,ir(M,t,1),j=Se(It)}let T=j;if($&&E!==!1){const M=Object.keys($),{shapeFlag:N}=T;M.length&&N&7&&(i&&M.some(dn)&&($=Xl($,i)),T=Qt(T,$,!1,!0))}return s.dirs&&(T=Qt(T,null,!1,!0),T.dirs=T.dirs?T.dirs.concat(s.dirs):s.dirs),s.transition&&(T.transition=s.transition),j=T,Js(R),j}const Ql=t=>{let e;for(const s in t)(s==="class"||s==="style"||er(s))&&((e||(e={}))[s]=t[s]);return e},Xl=(t,e)=>{const s={};for(const r in t)(!dn(r)||!(r.slice(9)in e))&&(s[r]=t[r]);return s};function Yl(t,e,s){const{props:r,children:n,component:i}=t,{props:o,children:a,patchFlag:l}=e,u=i.emitsOptions;if(e.dirs||e.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return r?si(r,o,u):!!o;if(l&8){const c=e.dynamicProps;for(let h=0;h<c.length;h++){const p=c[h];if(o[p]!==r[p]&&!or(u,p))return!0}}}else return(n||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?si(r,o,u):!0:!!o;return!1}function si(t,e,s){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let n=0;n<r.length;n++){const i=r[n];if(e[i]!==t[i]&&!or(s,i))return!0}return!1}function Zl({vnode:t,parent:e},s){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=s,e=e.parent;else break}}const ec="components";function tc(t,e){return rc(ec,t,!0,e)||t}const sc=Symbol.for("v-ndc");function rc(t,e,s=!0,r=!1){const n=Ee||de;if(n){const i=n.type;{const a=Zc(i,!1);if(a&&(a===e||a===Ye(e)||a===rr(Ye(e))))return i}const o=ri(n[t]||i[t],e)||ri(n.appContext[t],e);return!o&&r?i:o}}function ri(t,e){return t&&(t[e]||t[Ye(e)]||t[rr(Ye(e))])}const nc=t=>t.__isSuspense;function ic(t,e){e&&e.pendingBranch?D(t)?e.effects.push(...t):e.effects.push(t):zl(t)}function ar(t,e,s=de,r=!1){if(s){const n=s[t]||(s[t]=[]),i=e.__weh||(e.__weh=(...o)=>{bt();const a=Rs(s),l=qe(e,s,t,o);return a(),wt(),l});return r?n.unshift(i):n.push(i),i}}const rt=t=>(e,s=de)=>{(!cr||t==="sp")&&ar(t,(...r)=>e(...r),s)},oc=rt("bm"),Cn=rt("m"),ac=rt("bu"),lc=rt("u"),cc=rt("bum"),zo=rt("um"),uc=rt("sp"),hc=rt("rtg"),fc=rt("rtc");function dc(t,e=de){ar("ec",t,e)}function pc(t,e){if(Ee===null)return t;const s=ur(Ee),r=t.dirs||(t.dirs=[]);for(let n=0;n<e.length;n++){let[i,o,a,l=ie]=e[n];i&&(B(i)&&(i={mounted:i,updated:i}),i.deep&&dt(o),r.push({dir:i,instance:s,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function St(t,e,s,r){const n=t.dirs,i=e&&e.dirs;for(let o=0;o<n.length;o++){const a=n[o];i&&(a.oldValue=i[o].value);let l=a.dir[r];l&&(bt(),qe(l,s,8,[t.el,a,t,e]),wt())}}function gc(t,e,s,r){let n;const i=s;if(D(t)||ce(t)){n=new Array(t.length);for(let o=0,a=t.length;o<a;o++)n[o]=e(t[o],o,void 0,i)}else if(typeof t=="number"){n=new Array(t);for(let o=0;o<t;o++)n[o]=e(o+1,o,void 0,i)}else if(oe(t))if(t[Symbol.iterator])n=Array.from(t,(o,a)=>e(o,a,void 0,i));else{const o=Object.keys(t);n=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const u=o[a];n[a]=e(t[u],u,a,i)}}else n=[];return n}/*! #__NO_SIDE_EFFECTS__ */function Wo(t,e){return B(t)?fe({name:t.name},e,{setup:t}):t}const qs=t=>!!t.type.__asyncLoader,Kr=t=>t?da(t)?ur(t):Kr(t.parent):null,fs=fe(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Kr(t.parent),$root:t=>Kr(t.root),$emit:t=>t.emit,$options:t=>An(t),$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,Tn(t.update)}),$nextTick:t=>t.n||(t.n=Rn.bind(t.proxy)),$watch:t=>Uc.bind(t)}),kr=(t,e)=>t!==ie&&!t.__isScriptSetup&&G(t,e),_c={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:s,setupState:r,data:n,props:i,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const g=o[e];if(g!==void 0)switch(g){case 1:return r[e];case 2:return n[e];case 4:return s[e];case 3:return i[e]}else{if(kr(r,e))return o[e]=1,r[e];if(n!==ie&&G(n,e))return o[e]=2,n[e];if((u=t.propsOptions[0])&&G(u,e))return o[e]=3,i[e];if(s!==ie&&G(s,e))return o[e]=4,s[e];Vr&&(o[e]=0)}}const c=fs[e];let h,p;if(c)return e==="$attrs"&&ke(t.attrs,"get",""),c(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(s!==ie&&G(s,e))return o[e]=4,s[e];if(p=l.config.globalProperties,G(p,e))return p[e]},set({_:t},e,s){const{data:r,setupState:n,ctx:i}=t;return kr(n,e)?(n[e]=s,!0):r!==ie&&G(r,e)?(r[e]=s,!0):G(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=s,!0)},has({_:{data:t,setupState:e,accessCache:s,ctx:r,appContext:n,propsOptions:i}},o){let a;return!!s[o]||t!==ie&&G(t,o)||kr(e,o)||(a=i[0])&&G(a,o)||G(r,o)||G(fs,o)||G(n.config.globalProperties,o)},defineProperty(t,e,s){return s.get!=null?t._.accessCache[e]=0:G(s,"value")&&this.set(t,e,s.value,null),Reflect.defineProperty(t,e,s)}};function ni(t){return D(t)?t.reduce((e,s)=>(e[s]=null,e),{}):t}let Vr=!0;function mc(t){const e=An(t),s=t.proxy,r=t.ctx;Vr=!1,e.beforeCreate&&ii(e.beforeCreate,t,"bc");const{data:n,computed:i,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:h,mounted:p,beforeUpdate:g,updated:w,activated:E,deactivated:R,beforeDestroy:j,beforeUnmount:$,destroyed:T,unmounted:M,render:N,renderTracked:H,renderTriggered:te,errorCaptured:V,serverPrefetch:W,expose:le,inheritAttrs:pe,components:Pe,directives:Ce,filters:Et}=e;if(u&&vc(u,r,null),o)for(const se in o){const X=o[se];B(X)&&(r[se]=X.bind(s))}if(n){const se=n.call(s,s);oe(se)&&(t.data=xs(se))}if(Vr=!0,i)for(const se in i){const X=i[se],Ze=B(X)?X.bind(s,s):B(X.get)?X.get.bind(s,s):Ie,nt=!B(X)&&B(X.set)?X.set.bind(s):Ie,ze=Te({get:Ze,set:nt});Object.defineProperty(r,se,{enumerable:!0,configurable:!0,get:()=>ze.value,set:be=>ze.value=be})}if(a)for(const se in a)Go(a[se],r,s,se);if(l){const se=B(l)?l.call(s):l;Reflect.ownKeys(se).forEach(X=>{Ks(X,se[X])})}c&&ii(c,t,"c");function Q(se,X){D(X)?X.forEach(Ze=>se(Ze.bind(s))):X&&se(X.bind(s))}if(Q(oc,h),Q(Cn,p),Q(ac,g),Q(lc,w),Q(Dc,E),Q(Mc,R),Q(dc,V),Q(fc,H),Q(hc,te),Q(cc,$),Q(zo,M),Q(uc,W),D(le))if(le.length){const se=t.exposed||(t.exposed={});le.forEach(X=>{Object.defineProperty(se,X,{get:()=>s[X],set:Ze=>s[X]=Ze})})}else t.exposed||(t.exposed={});N&&t.render===Ie&&(t.render=N),pe!=null&&(t.inheritAttrs=pe),Pe&&(t.components=Pe),Ce&&(t.directives=Ce)}function vc(t,e,s=Ie){D(t)&&(t=zr(t));for(const r in t){const n=t[r];let i;oe(n)?"default"in n?i=Ke(n.from||r,n.default,!0):i=Ke(n.from||r):i=Ke(n),ue(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[r]=i}}function ii(t,e,s){qe(D(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,s)}function Go(t,e,s,r){const n=r.includes(".")?aa(s,r):()=>s[r];if(ce(t)){const i=e[t];B(i)&&jt(n,i)}else if(B(t))jt(n,t.bind(s));else if(oe(t))if(D(t))t.forEach(i=>Go(i,e,s,r));else{const i=B(t.handler)?t.handler.bind(s):e[t.handler];B(i)&&jt(n,i,t)}}function An(t){const e=t.type,{mixins:s,extends:r}=e,{mixins:n,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!n.length&&!s&&!r?l=e:(l={},n.length&&n.forEach(u=>Qs(l,u,o,!0)),Qs(l,e,o)),oe(e)&&i.set(e,l),l}function Qs(t,e,s,r=!1){const{mixins:n,extends:i}=e;i&&Qs(t,i,s,!0),n&&n.forEach(o=>Qs(t,o,s,!0));for(const o in e)if(!(r&&o==="expose")){const a=yc[o]||s&&s[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const yc={data:oi,props:ai,emits:ai,methods:cs,computed:cs,beforeCreate:ye,created:ye,beforeMount:ye,mounted:ye,beforeUpdate:ye,updated:ye,beforeDestroy:ye,beforeUnmount:ye,destroyed:ye,unmounted:ye,activated:ye,deactivated:ye,errorCaptured:ye,serverPrefetch:ye,components:cs,directives:cs,watch:wc,provide:oi,inject:bc};function oi(t,e){return e?t?function(){return fe(B(t)?t.call(this,this):t,B(e)?e.call(this,this):e)}:e:t}function bc(t,e){return cs(zr(t),zr(e))}function zr(t){if(D(t)){const e={};for(let s=0;s<t.length;s++)e[t[s]]=t[s];return e}return t}function ye(t,e){return t?[...new Set([].concat(t,e))]:e}function cs(t,e){return t?fe(Object.create(null),t,e):e}function ai(t,e){return t?D(t)&&D(e)?[...new Set([...t,...e])]:fe(Object.create(null),ni(t),ni(e??{})):e}function wc(t,e){if(!t)return e;if(!e)return t;const s=fe(Object.create(null),t);for(const r in e)s[r]=ye(t[r],e[r]);return s}function Jo(){return{app:null,config:{isNativeTag:rl,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Ec=0;function Sc(t,e){return function(r,n=null){B(r)||(r=fe({},r)),n!=null&&!oe(n)&&(n=null);const i=Jo(),o=new WeakSet;let a=!1;const l=i.app={_uid:Ec++,_component:r,_props:n,_container:null,_context:i,_instance:null,version:tu,get config(){return i.config},set config(u){},use(u,...c){return o.has(u)||(u&&B(u.install)?(o.add(u),u.install(l,...c)):B(u)&&(o.add(u),u(l,...c))),l},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),l},component(u,c){return c?(i.components[u]=c,l):i.components[u]},directive(u,c){return c?(i.directives[u]=c,l):i.directives[u]},mount(u,c,h){if(!a){const p=Se(r,n);return p.appContext=i,h===!0?h="svg":h===!1&&(h=void 0),c&&e?e(p,u):t(p,u,h),a=!0,l._container=u,u.__vue_app__=l,ur(p.component)}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide(u,c){return i.provides[u]=c,l},runWithContext(u){const c=Gt;Gt=l;try{return u()}finally{Gt=c}}};return l}}let Gt=null;function Ks(t,e){if(de){let s=de.provides;const r=de.parent&&de.parent.provides;r===s&&(s=de.provides=Object.create(r)),s[t]=e}}function Ke(t,e,s=!1){const r=de||Ee;if(r||Gt){const n=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:Gt._context.provides;if(n&&t in n)return n[t];if(arguments.length>1)return s&&B(e)?e.call(r&&r.proxy):e}}function kc(){return!!(de||Ee||Gt)}const Qo={},Xo=()=>Object.create(Qo),Yo=t=>Object.getPrototypeOf(t)===Qo;function Pc(t,e,s,r=!1){const n={},i=Xo();t.propsDefaults=Object.create(null),Zo(t,e,n,i);for(const o in t.propsOptions[0])o in n||(n[o]=void 0);s?t.props=r?n:jo(n):t.type.props?t.props=n:t.props=i,t.attrs=i}function Oc(t,e,s,r){const{props:n,attrs:i,vnode:{patchFlag:o}}=t,a=J(n),[l]=t.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const c=t.vnode.dynamicProps;for(let h=0;h<c.length;h++){let p=c[h];if(or(t.emitsOptions,p))continue;const g=e[p];if(l)if(G(i,p))g!==i[p]&&(i[p]=g,u=!0);else{const w=Ye(p);n[w]=Wr(l,a,w,g,t,!1)}else g!==i[p]&&(i[p]=g,u=!0)}}}else{Zo(t,e,n,i)&&(u=!0);let c;for(const h in a)(!e||!G(e,h)&&((c=ts(h))===h||!G(e,c)))&&(l?s&&(s[h]!==void 0||s[c]!==void 0)&&(n[h]=Wr(l,a,h,void 0,t,!0)):delete n[h]);if(i!==a)for(const h in i)(!e||!G(e,h))&&(delete i[h],u=!0)}u&&st(t.attrs,"set","")}function Zo(t,e,s,r){const[n,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(hs(l))continue;const u=e[l];let c;n&&G(n,c=Ye(l))?!i||!i.includes(c)?s[c]=u:(a||(a={}))[c]=u:or(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(i){const l=J(s),u=a||ie;for(let c=0;c<i.length;c++){const h=i[c];s[h]=Wr(n,l,h,u[h],t,!G(u,h))}}return o}function Wr(t,e,s,r,n,i){const o=t[s];if(o!=null){const a=G(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&B(l)){const{propsDefaults:u}=n;if(s in u)r=u[s];else{const c=Rs(n);r=u[s]=l.call(null,e),c()}}else r=l}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===ts(s))&&(r=!0))}return r}function ea(t,e,s=!1){const r=e.propsCache,n=r.get(t);if(n)return n;const i=t.props,o={},a=[];let l=!1;if(!B(t)){const c=h=>{l=!0;const[p,g]=ea(h,e,!0);fe(o,p),g&&a.push(...g)};!s&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!i&&!l)return oe(t)&&r.set(t,Vt),Vt;if(D(i))for(let c=0;c<i.length;c++){const h=Ye(i[c]);li(h)&&(o[h]=ie)}else if(i)for(const c in i){const h=Ye(c);if(li(h)){const p=i[c],g=o[h]=D(p)||B(p)?{type:p}:fe({},p);if(g){const w=hi(Boolean,g.type),E=hi(String,g.type);g[0]=w>-1,g[1]=E<0||w<E,(w>-1||G(g,"default"))&&a.push(h)}}}const u=[o,a];return oe(t)&&r.set(t,u),u}function li(t){return t[0]!=="$"&&!hs(t)}function ci(t){return t===null?"null":typeof t=="function"?t.name||"":typeof t=="object"&&t.constructor&&t.constructor.name||""}function ui(t,e){return ci(t)===ci(e)}function hi(t,e){return D(e)?e.findIndex(s=>ui(s,t)):B(e)&&ui(e,t)?0:-1}const ta=t=>t[0]==="_"||t==="$stable",$n=t=>D(t)?t.map(Je):[Je(t)],xc=(t,e,s)=>{if(e._n)return e;const r=Jl((...n)=>$n(e(...n)),s);return r._c=!1,r},sa=(t,e,s)=>{const r=t._ctx;for(const n in t){if(ta(n))continue;const i=t[n];if(B(i))e[n]=xc(n,i,r);else if(i!=null){const o=$n(i);e[n]=()=>o}}},ra=(t,e)=>{const s=$n(e);t.slots.default=()=>s},Rc=(t,e)=>{const s=t.slots=Xo();if(t.vnode.shapeFlag&32){const r=e._;r?(fe(s,e),po(s,"_",r,!0)):sa(e,s)}else e&&ra(t,e)},Tc=(t,e,s)=>{const{vnode:r,slots:n}=t;let i=!0,o=ie;if(r.shapeFlag&32){const a=e._;a?s&&a===1?i=!1:(fe(n,e),!s&&a===1&&delete n._):(i=!e.$stable,sa(e,n)),o=e}else e&&(ra(t,e),o={default:1});if(i)for(const a in n)!ta(a)&&o[a]==null&&delete n[a]};function Gr(t,e,s,r,n=!1){if(D(t)){t.forEach((p,g)=>Gr(p,e&&(D(e)?e[g]:e),s,r,n));return}if(qs(r)&&!n)return;const i=r.shapeFlag&4?ur(r.component):r.el,o=n?null:i,{i:a,r:l}=t,u=e&&e.r,c=a.refs===ie?a.refs={}:a.refs,h=a.setupState;if(u!=null&&u!==l&&(ce(u)?(c[u]=null,G(h,u)&&(h[u]=null)):ue(u)&&(u.value=null)),B(l))mt(l,a,12,[o,c]);else{const p=ce(l),g=ue(l);if(p||g){const w=()=>{if(t.f){const E=p?G(h,l)?h[l]:c[l]:l.value;n?D(E)&&pn(E,i):D(E)?E.includes(i)||E.push(i):p?(c[l]=[i],G(h,l)&&(h[l]=c[l])):(l.value=[i],t.k&&(c[t.k]=l.value))}else p?(c[l]=o,G(h,l)&&(h[l]=o)):g&&(l.value=o,t.k&&(c[t.k]=o))};o?(w.id=-1,we(w,s)):w()}}}const we=ic;function Cc(t){return Ac(t)}function Ac(t,e){const s=go();s.__VUE__=!0;const{insert:r,remove:n,patchProp:i,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:h,nextSibling:p,setScopeId:g=Ie,insertStaticContent:w}=t,E=(f,d,_,y=null,m=null,k=null,O=void 0,S=null,P=!!d.dynamicChildren)=>{if(f===d)return;f&&!is(f,d)&&(y=v(f),be(f,m,k,!0),f=null),d.patchFlag===-2&&(P=!1,d.dynamicChildren=null);const{type:b,ref:A,shapeFlag:U}=d;switch(b){case lr:R(f,d,_,y);break;case It:j(f,d,_,y);break;case Or:f==null&&$(d,_,y,O);break;case Fe:Pe(f,d,_,y,m,k,O,S,P);break;default:U&1?N(f,d,_,y,m,k,O,S,P):U&6?Ce(f,d,_,y,m,k,O,S,P):(U&64||U&128)&&b.process(f,d,_,y,m,k,O,S,P,I)}A!=null&&m&&Gr(A,f&&f.ref,k,d||f,!d)},R=(f,d,_,y)=>{if(f==null)r(d.el=a(d.children),_,y);else{const m=d.el=f.el;d.children!==f.children&&u(m,d.children)}},j=(f,d,_,y)=>{f==null?r(d.el=l(d.children||""),_,y):d.el=f.el},$=(f,d,_,y)=>{[f.el,f.anchor]=w(f.children,d,_,y,f.el,f.anchor)},T=({el:f,anchor:d},_,y)=>{let m;for(;f&&f!==d;)m=p(f),r(f,_,y),f=m;r(d,_,y)},M=({el:f,anchor:d})=>{let _;for(;f&&f!==d;)_=p(f),n(f),f=_;n(d)},N=(f,d,_,y,m,k,O,S,P)=>{d.type==="svg"?O="svg":d.type==="math"&&(O="mathml"),f==null?H(d,_,y,m,k,O,S,P):W(f,d,m,k,O,S,P)},H=(f,d,_,y,m,k,O,S)=>{let P,b;const{props:A,shapeFlag:U,transition:L,dirs:F}=f;if(P=f.el=o(f.type,k,A&&A.is,A),U&8?c(P,f.children):U&16&&V(f.children,P,null,y,m,Pr(f,k),O,S),F&&St(f,null,y,"created"),te(P,f,f.scopeId,O,y),A){for(const ne in A)ne!=="value"&&!hs(ne)&&i(P,ne,null,A[ne],k,f.children,y,m,ge);"value"in A&&i(P,"value",null,A.value,k),(b=A.onVnodeBeforeMount)&&Ge(b,y,f)}F&&St(f,null,y,"beforeMount");const q=$c(m,L);q&&L.beforeEnter(P),r(P,d,_),((b=A&&A.onVnodeMounted)||q||F)&&we(()=>{b&&Ge(b,y,f),q&&L.enter(P),F&&St(f,null,y,"mounted")},m)},te=(f,d,_,y,m)=>{if(_&&g(f,_),y)for(let k=0;k<y.length;k++)g(f,y[k]);if(m){let k=m.subTree;if(d===k){const O=m.vnode;te(f,O,O.scopeId,O.slotScopeIds,m.parent)}}},V=(f,d,_,y,m,k,O,S,P=0)=>{for(let b=P;b<f.length;b++){const A=f[b]=S?ut(f[b]):Je(f[b]);E(null,A,d,_,y,m,k,O,S)}},W=(f,d,_,y,m,k,O)=>{const S=d.el=f.el;let{patchFlag:P,dynamicChildren:b,dirs:A}=d;P|=f.patchFlag&16;const U=f.props||ie,L=d.props||ie;let F;if(_&&kt(_,!1),(F=L.onVnodeBeforeUpdate)&&Ge(F,_,d,f),A&&St(d,f,_,"beforeUpdate"),_&&kt(_,!0),b?le(f.dynamicChildren,b,S,_,y,Pr(d,m),k):O||X(f,d,S,null,_,y,Pr(d,m),k,!1),P>0){if(P&16)pe(S,d,U,L,_,y,m);else if(P&2&&U.class!==L.class&&i(S,"class",null,L.class,m),P&4&&i(S,"style",U.style,L.style,m),P&8){const q=d.dynamicProps;for(let ne=0;ne<q.length;ne++){const Y=q[ne],he=U[Y],De=L[Y];(De!==he||Y==="value")&&i(S,Y,he,De,m,f.children,_,y,ge)}}P&1&&f.children!==d.children&&c(S,d.children)}else!O&&b==null&&pe(S,d,U,L,_,y,m);((F=L.onVnodeUpdated)||A)&&we(()=>{F&&Ge(F,_,d,f),A&&St(d,f,_,"updated")},y)},le=(f,d,_,y,m,k,O)=>{for(let S=0;S<d.length;S++){const P=f[S],b=d[S],A=P.el&&(P.type===Fe||!is(P,b)||P.shapeFlag&70)?h(P.el):_;E(P,b,A,null,y,m,k,O,!0)}},pe=(f,d,_,y,m,k,O)=>{if(_!==y){if(_!==ie)for(const S in _)!hs(S)&&!(S in y)&&i(f,S,_[S],null,O,d.children,m,k,ge);for(const S in y){if(hs(S))continue;const P=y[S],b=_[S];P!==b&&S!=="value"&&i(f,S,b,P,O,d.children,m,k,ge)}"value"in y&&i(f,"value",_.value,y.value,O)}},Pe=(f,d,_,y,m,k,O,S,P)=>{const b=d.el=f?f.el:a(""),A=d.anchor=f?f.anchor:a("");let{patchFlag:U,dynamicChildren:L,slotScopeIds:F}=d;F&&(S=S?S.concat(F):F),f==null?(r(b,_,y),r(A,_,y),V(d.children||[],_,A,m,k,O,S,P)):U>0&&U&64&&L&&f.dynamicChildren?(le(f.dynamicChildren,L,_,m,k,O,S),(d.key!=null||m&&d===m.subTree)&&na(f,d,!0)):X(f,d,_,A,m,k,O,S,P)},Ce=(f,d,_,y,m,k,O,S,P)=>{d.slotScopeIds=S,f==null?d.shapeFlag&512?m.ctx.activate(d,_,y,O,P):Et(d,_,y,m,k,O,P):Ae(f,d,P)},Et=(f,d,_,y,m,k,O)=>{const S=f.component=Gc(f,y,m);if(la(f)&&(S.ctx.renderer=I),Jc(S),S.asyncDep){if(m&&m.registerDep(S,Q,O),!f.el){const P=S.subTree=Se(It);j(null,P,d,_)}}else Q(S,f,d,_,m,k,O)},Ae=(f,d,_)=>{const y=d.component=f.component;if(Yl(f,d,_))if(y.asyncDep&&!y.asyncResolved){se(y,d,_);return}else y.next=d,Vl(y.update),y.effect.dirty=!0,y.update();else d.el=f.el,y.vnode=d},Q=(f,d,_,y,m,k,O)=>{const S=()=>{if(f.isMounted){let{next:A,bu:U,u:L,parent:F,vnode:q}=f;{const Mt=ia(f);if(Mt){A&&(A.el=q.el,se(f,A,O)),Mt.asyncDep.then(()=>{f.isUnmounted||S()});return}}let ne=A,Y;kt(f,!1),A?(A.el=q.el,se(f,A,O)):A=q,U&&Bs(U),(Y=A.props&&A.props.onVnodeBeforeUpdate)&&Ge(Y,F,A,q),kt(f,!0);const he=Sr(f),De=f.subTree;f.subTree=he,E(De,he,h(De.el),v(De),f,m,k),A.el=he.el,ne===null&&Zl(f,he.el),L&&we(L,m),(Y=A.props&&A.props.onVnodeUpdated)&&we(()=>Ge(Y,F,A,q),m)}else{let A;const{el:U,props:L}=d,{bm:F,m:q,parent:ne}=f,Y=qs(d);if(kt(f,!1),F&&Bs(F),!Y&&(A=L&&L.onVnodeBeforeMount)&&Ge(A,ne,d),kt(f,!0),U&&ae){const he=()=>{f.subTree=Sr(f),ae(U,f.subTree,f,m,null)};Y?d.type.__asyncLoader().then(()=>!f.isUnmounted&&he()):he()}else{const he=f.subTree=Sr(f);E(null,he,_,y,f,m,k),d.el=he.el}if(q&&we(q,m),!Y&&(A=L&&L.onVnodeMounted)){const he=d;we(()=>Ge(A,ne,he),m)}(d.shapeFlag&256||ne&&qs(ne.vnode)&&ne.vnode.shapeFlag&256)&&f.a&&we(f.a,m),f.isMounted=!0,d=_=y=null}},P=f.effect=new yn(S,Ie,()=>Tn(b),f.scope),b=f.update=()=>{P.dirty&&P.run()};b.id=f.uid,kt(f,!0),b()},se=(f,d,_)=>{d.component=f;const y=f.vnode.props;f.vnode=d,f.next=null,Oc(f,d.props,y,_),Tc(f,d.children,_),bt(),ti(f),wt()},X=(f,d,_,y,m,k,O,S,P=!1)=>{const b=f&&f.children,A=f?f.shapeFlag:0,U=d.children,{patchFlag:L,shapeFlag:F}=d;if(L>0){if(L&128){nt(b,U,_,y,m,k,O,S,P);return}else if(L&256){Ze(b,U,_,y,m,k,O,S,P);return}}F&8?(A&16&&ge(b,m,k),U!==b&&c(_,U)):A&16?F&16?nt(b,U,_,y,m,k,O,S,P):ge(b,m,k,!0):(A&8&&c(_,""),F&16&&V(U,_,y,m,k,O,S,P))},Ze=(f,d,_,y,m,k,O,S,P)=>{f=f||Vt,d=d||Vt;const b=f.length,A=d.length,U=Math.min(b,A);let L;for(L=0;L<U;L++){const F=d[L]=P?ut(d[L]):Je(d[L]);E(f[L],F,_,null,m,k,O,S,P)}b>A?ge(f,m,k,!0,!1,U):V(d,_,y,m,k,O,S,P,U)},nt=(f,d,_,y,m,k,O,S,P)=>{let b=0;const A=d.length;let U=f.length-1,L=A-1;for(;b<=U&&b<=L;){const F=f[b],q=d[b]=P?ut(d[b]):Je(d[b]);if(is(F,q))E(F,q,_,null,m,k,O,S,P);else break;b++}for(;b<=U&&b<=L;){const F=f[U],q=d[L]=P?ut(d[L]):Je(d[L]);if(is(F,q))E(F,q,_,null,m,k,O,S,P);else break;U--,L--}if(b>U){if(b<=L){const F=L+1,q=F<A?d[F].el:y;for(;b<=L;)E(null,d[b]=P?ut(d[b]):Je(d[b]),_,q,m,k,O,S,P),b++}}else if(b>L)for(;b<=U;)be(f[b],m,k,!0),b++;else{const F=b,q=b,ne=new Map;for(b=q;b<=L;b++){const Oe=d[b]=P?ut(d[b]):Je(d[b]);Oe.key!=null&&ne.set(Oe.key,b)}let Y,he=0;const De=L-q+1;let Mt=!1,qn=0;const ns=new Array(De);for(b=0;b<De;b++)ns[b]=0;for(b=F;b<=U;b++){const Oe=f[b];if(he>=De){be(Oe,m,k,!0);continue}let We;if(Oe.key!=null)We=ne.get(Oe.key);else for(Y=q;Y<=L;Y++)if(ns[Y-q]===0&&is(Oe,d[Y])){We=Y;break}We===void 0?be(Oe,m,k,!0):(ns[We-q]=b+1,We>=qn?qn=We:Mt=!0,E(Oe,d[We],_,null,m,k,O,S,P),he++)}const Kn=Mt?jc(ns):Vt;for(Y=Kn.length-1,b=De-1;b>=0;b--){const Oe=q+b,We=d[Oe],Vn=Oe+1<A?d[Oe+1].el:y;ns[b]===0?E(null,We,_,Vn,m,k,O,S,P):Mt&&(Y<0||b!==Kn[Y]?ze(We,_,Vn,2):Y--)}}},ze=(f,d,_,y,m=null)=>{const{el:k,type:O,transition:S,children:P,shapeFlag:b}=f;if(b&6){ze(f.component.subTree,d,_,y);return}if(b&128){f.suspense.move(d,_,y);return}if(b&64){O.move(f,d,_,I);return}if(O===Fe){r(k,d,_);for(let U=0;U<P.length;U++)ze(P[U],d,_,y);r(f.anchor,d,_);return}if(O===Or){T(f,d,_);return}if(y!==2&&b&1&&S)if(y===0)S.beforeEnter(k),r(k,d,_),we(()=>S.enter(k),m);else{const{leave:U,delayLeave:L,afterLeave:F}=S,q=()=>r(k,d,_),ne=()=>{U(k,()=>{q(),F&&F()})};L?L(k,q,ne):ne()}else r(k,d,_)},be=(f,d,_,y=!1,m=!1)=>{const{type:k,props:O,ref:S,children:P,dynamicChildren:b,shapeFlag:A,patchFlag:U,dirs:L,memoIndex:F}=f;if(U===-2&&(m=!1),S!=null&&Gr(S,null,_,f,!0),F!=null&&(d.renderCache[F]=void 0),A&256){d.ctx.deactivate(f);return}const q=A&1&&L,ne=!qs(f);let Y;if(ne&&(Y=O&&O.onVnodeBeforeUnmount)&&Ge(Y,d,f),A&6)As(f.component,_,y);else{if(A&128){f.suspense.unmount(_,y);return}q&&St(f,null,d,"beforeUnmount"),A&64?f.type.remove(f,d,_,I,y):b&&(k!==Fe||U>0&&U&64)?ge(b,d,_,!1,!0):(k===Fe&&U&384||!m&&A&16)&&ge(P,d,_),y&&Ut(f)}(ne&&(Y=O&&O.onVnodeUnmounted)||q)&&we(()=>{Y&&Ge(Y,d,f),q&&St(f,null,d,"unmounted")},_)},Ut=f=>{const{type:d,el:_,anchor:y,transition:m}=f;if(d===Fe){Dt(_,y);return}if(d===Or){M(f);return}const k=()=>{n(_),m&&!m.persisted&&m.afterLeave&&m.afterLeave()};if(f.shapeFlag&1&&m&&!m.persisted){const{leave:O,delayLeave:S}=m,P=()=>O(_,k);S?S(f.el,k,P):P()}else k()},Dt=(f,d)=>{let _;for(;f!==d;)_=p(f),n(f),f=_;n(d)},As=(f,d,_)=>{const{bum:y,scope:m,update:k,subTree:O,um:S,m:P,a:b}=f;fi(P),fi(b),y&&Bs(y),m.stop(),k&&(k.active=!1,be(O,f,d,_)),S&&we(S,d),we(()=>{f.isUnmounted=!0},d),d&&d.pendingBranch&&!d.isUnmounted&&f.asyncDep&&!f.asyncResolved&&f.suspenseId===d.pendingId&&(d.deps--,d.deps===0&&d.resolve())},ge=(f,d,_,y=!1,m=!1,k=0)=>{for(let O=k;O<f.length;O++)be(f[O],d,_,y,m)},v=f=>f.shapeFlag&6?v(f.component.subTree):f.shapeFlag&128?f.suspense.next():p(f.anchor||f.el);let C=!1;const x=(f,d,_)=>{f==null?d._vnode&&be(d._vnode,null,null,!0):E(d._vnode||null,f,d,null,null,null,_),C||(C=!0,ti(),Ho(),C=!1),d._vnode=f},I={p:E,um:be,m:ze,r:Ut,mt:Et,mc:V,pc:X,pbc:le,n:v,o:t};let Z,ae;return{render:x,hydrate:Z,createApp:Sc(x,Z)}}function Pr({type:t,props:e},s){return s==="svg"&&t==="foreignObject"||s==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:s}function kt({effect:t,update:e},s){t.allowRecurse=e.allowRecurse=s}function $c(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function na(t,e,s=!1){const r=t.children,n=e.children;if(D(r)&&D(n))for(let i=0;i<r.length;i++){const o=r[i];let a=n[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=n[i]=ut(n[i]),a.el=o.el),!s&&a.patchFlag!==-2&&na(o,a)),a.type===lr&&(a.el=o.el)}}function jc(t){const e=t.slice(),s=[0];let r,n,i,o,a;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(n=s[s.length-1],t[n]<u){e[r]=n,s.push(r);continue}for(i=0,o=s.length-1;i<o;)a=i+o>>1,t[s[a]]<u?i=a+1:o=a;u<t[s[i]]&&(i>0&&(e[r]=s[i-1]),s[i]=r)}}for(i=s.length,o=s[i-1];i-- >0;)s[i]=o,o=e[o];return s}function ia(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:ia(e)}function fi(t){if(t)for(let e=0;e<t.length;e++)t[e].active=!1}const Ic=Symbol.for("v-scx"),Lc=()=>Ke(Ic),Ds={};function jt(t,e,s){return oa(t,e,s)}function oa(t,e,{immediate:s,deep:r,flush:n,once:i,onTrack:o,onTrigger:a}=ie){if(e&&i){const H=e;e=(...te)=>{H(...te),N()}}const l=de,u=H=>r===!0?H:dt(H,r===!1?1:void 0);let c,h=!1,p=!1;if(ue(t)?(c=()=>t.value,h=Gs(t)):$t(t)?(c=()=>u(t),h=!0):D(t)?(p=!0,h=t.some(H=>$t(H)||Gs(H)),c=()=>t.map(H=>{if(ue(H))return H.value;if($t(H))return u(H);if(B(H))return mt(H,l,2)})):B(t)?e?c=()=>mt(t,l,2):c=()=>(g&&g(),qe(t,l,3,[w])):c=Ie,e&&r){const H=c;c=()=>dt(H())}let g,w=H=>{g=T.onStop=()=>{mt(H,l,4),g=T.onStop=void 0}},E;if(cr)if(w=Ie,e?s&&qe(e,l,3,[c(),p?[]:void 0,w]):c(),n==="sync"){const H=Lc();E=H.__watcherHandles||(H.__watcherHandles=[])}else return Ie;let R=p?new Array(t.length).fill(Ds):Ds;const j=()=>{if(!(!T.active||!T.dirty))if(e){const H=T.run();(r||h||(p?H.some((te,V)=>vt(te,R[V])):vt(H,R)))&&(g&&g(),qe(e,l,3,[H,R===Ds?void 0:p&&R[0]===Ds?[]:R,w]),R=H)}else T.run()};j.allowRecurse=!!e;let $;n==="sync"?$=j:n==="post"?$=()=>we(j,l&&l.suspense):(j.pre=!0,l&&(j.id=l.uid),$=()=>Tn(j));const T=new yn(c,Ie,$),M=wo(),N=()=>{T.stop(),M&&pn(M.effects,T)};return e?s?j():R=T.run():n==="post"?we(T.run.bind(T),l&&l.suspense):T.run(),E&&E.push(N),N}function Uc(t,e,s){const r=this.proxy,n=ce(t)?t.includes(".")?aa(r,t):()=>r[t]:t.bind(r,r);let i;B(e)?i=e:(i=e.handler,s=e);const o=Rs(this),a=oa(n,i.bind(r),s);return o(),a}function aa(t,e){const s=e.split(".");return()=>{let r=t;for(let n=0;n<s.length&&r;n++)r=r[s[n]];return r}}function dt(t,e=1/0,s){if(e<=0||!oe(t)||t.__v_skip||(s=s||new Set,s.has(t)))return t;if(s.add(t),e--,ue(t))dt(t.value,e,s);else if(D(t))for(let r=0;r<t.length;r++)dt(t[r],e,s);else if(co(t)||zt(t))t.forEach(r=>{dt(r,e,s)});else if(fo(t)){for(const r in t)dt(t[r],e,s);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&dt(t[r],e,s)}return t}const la=t=>t.type.__isKeepAlive;function Dc(t,e){ca(t,"a",e)}function Mc(t,e){ca(t,"da",e)}function ca(t,e,s=de){const r=t.__wdc||(t.__wdc=()=>{let n=s;for(;n;){if(n.isDeactivated)return;n=n.parent}return t()});if(ar(e,r,s),s){let n=s.parent;for(;n&&n.parent;)la(n.parent.vnode)&&Nc(r,e,s,n),n=n.parent}}function Nc(t,e,s,r){const n=ar(e,t,r,!0);zo(()=>{pn(r[e],n)},s)}function ua(t,e){t.shapeFlag&6&&t.component?ua(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}const Fc=t=>t.__isTeleport,Fe=Symbol.for("v-fgt"),lr=Symbol.for("v-txt"),It=Symbol.for("v-cmt"),Or=Symbol.for("v-stc"),ds=[];let He=null;function Be(t=!1){ds.push(He=t?null:[])}function Bc(){ds.pop(),He=ds[ds.length-1]||null}let Ss=1;function di(t){Ss+=t}function ha(t){return t.dynamicChildren=Ss>0?He||Vt:null,Bc(),Ss>0&&He&&He.push(t),t}function Xe(t,e,s,r,n,i){return ha(ve(t,e,s,r,n,i,!0))}function Hc(t,e,s,r,n){return ha(Se(t,e,s,r,n,!0))}function Jr(t){return t?t.__v_isVNode===!0:!1}function is(t,e){return t.type===e.type&&t.key===e.key}const fa=({key:t})=>t??null,Vs=({ref:t,ref_key:e,ref_for:s})=>(typeof t=="number"&&(t=""+t),t!=null?ce(t)||ue(t)||B(t)?{i:Ee,r:t,k:e,f:!!s}:t:null);function ve(t,e=null,s=null,r=0,n=null,i=t===Fe?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&fa(e),ref:e&&Vs(e),scopeId:Vo,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:Ee};return a?(jn(l,s),i&128&&t.normalize(l)):s&&(l.shapeFlag|=ce(s)?8:16),Ss>0&&!o&&He&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&He.push(l),l}const Se=qc;function qc(t,e=null,s=null,r=0,n=null,i=!1){if((!t||t===sc)&&(t=It),Jr(t)){const a=Qt(t,e,!0);return s&&jn(a,s),Ss>0&&!i&&He&&(a.shapeFlag&6?He[He.indexOf(t)]=a:He.push(a)),a.patchFlag=-2,a}if(eu(t)&&(t=t.__vccOpts),e){e=Kc(e);let{class:a,style:l}=e;a&&!ce(a)&&(e.class=mn(a)),oe(l)&&(Lo(l)&&!D(l)&&(l=fe({},l)),e.style=_n(l))}const o=ce(t)?1:nc(t)?128:Fc(t)?64:oe(t)?4:B(t)?2:0;return ve(t,e,s,r,n,o,i,!0)}function Kc(t){return t?Lo(t)||Yo(t)?fe({},t):t:null}function Qt(t,e,s=!1,r=!1){const{props:n,ref:i,patchFlag:o,children:a,transition:l}=t,u=e?Vc(n||{},e):n,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&fa(u),ref:e&&e.ref?s&&i?D(i)?i.concat(Vs(e)):[i,Vs(e)]:Vs(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Fe?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Qt(t.ssContent),ssFallback:t.ssFallback&&Qt(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&ua(c,l.clone(c)),c}function Qr(t=" ",e=0){return Se(lr,null,t,e)}function Xr(t="",e=!1){return e?(Be(),Hc(It,null,t)):Se(It,null,t)}function Je(t){return t==null||typeof t=="boolean"?Se(It):D(t)?Se(Fe,null,t.slice()):typeof t=="object"?ut(t):Se(lr,null,String(t))}function ut(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Qt(t)}function jn(t,e){let s=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(D(e))s=16;else if(typeof e=="object")if(r&65){const n=e.default;n&&(n._c&&(n._d=!1),jn(t,n()),n._c&&(n._d=!0));return}else{s=32;const n=e._;!n&&!Yo(e)?e._ctx=Ee:n===3&&Ee&&(Ee.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else B(e)?(e={default:e,_ctx:Ee},s=32):(e=String(e),r&64?(s=16,e=[Qr(e)]):s=8);t.children=e,t.shapeFlag|=s}function Vc(...t){const e={};for(let s=0;s<t.length;s++){const r=t[s];for(const n in r)if(n==="class")e.class!==r.class&&(e.class=mn([e.class,r.class]));else if(n==="style")e.style=_n([e.style,r.style]);else if(er(n)){const i=e[n],o=r[n];o&&i!==o&&!(D(i)&&i.includes(o))&&(e[n]=i?[].concat(i,o):o)}else n!==""&&(e[n]=r[n])}return e}function Ge(t,e,s,r=null){qe(t,e,7,[s,r])}const zc=Jo();let Wc=0;function Gc(t,e,s){const r=t.type,n=(e?e.appContext:t.appContext)||zc,i={uid:Wc++,vnode:t,type:r,parent:e,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,scope:new yo(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(n.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ea(r,n),emitsOptions:Ko(r,n),emit:null,emitted:null,propsDefaults:ie,inheritAttrs:r.inheritAttrs,ctx:ie,data:ie,props:ie,attrs:ie,slots:ie,refs:ie,setupState:ie,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=Gl.bind(null,i),t.ce&&t.ce(i),i}let de=null,Xs,Yr;{const t=go(),e=(s,r)=>{let n;return(n=t[s])||(n=t[s]=[]),n.push(r),i=>{n.length>1?n.forEach(o=>o(i)):n[0](i)}};Xs=e("__VUE_INSTANCE_SETTERS__",s=>de=s),Yr=e("__VUE_SSR_SETTERS__",s=>cr=s)}const Rs=t=>{const e=de;return Xs(t),t.scope.on(),()=>{t.scope.off(),Xs(e)}},pi=()=>{de&&de.scope.off(),Xs(null)};function da(t){return t.vnode.shapeFlag&4}let cr=!1;function Jc(t,e=!1){e&&Yr(e);const{props:s,children:r}=t.vnode,n=da(t);Pc(t,s,n,e),Rc(t,r);const i=n?Qc(t,e):void 0;return e&&Yr(!1),i}function Qc(t,e){const s=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,_c);const{setup:r}=s;if(r){const n=t.setupContext=r.length>1?Yc(t):null,i=Rs(t);bt();const o=mt(r,t,0,[t.props,n]);if(wt(),i(),uo(o)){if(o.then(pi,pi),e)return o.then(a=>{gi(t,a,e)}).catch(a=>{ir(a,t,0)});t.asyncDep=o}else gi(t,o,e)}else pa(t,e)}function gi(t,e,s){B(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:oe(e)&&(t.setupState=No(e)),pa(t,s)}let _i;function pa(t,e,s){const r=t.type;if(!t.render){if(!e&&_i&&!r.render){const n=r.template||An(t).template;if(n){const{isCustomElement:i,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=r,u=fe(fe({isCustomElement:i,delimiters:a},o),l);r.render=_i(n,u)}}t.render=r.render||Ie}{const n=Rs(t);bt();try{mc(t)}finally{wt(),n()}}}const Xc={get(t,e){return ke(t,"get",""),t[e]}};function Yc(t){const e=s=>{t.exposed=s||{}};return{attrs:new Proxy(t.attrs,Xc),slots:t.slots,emit:t.emit,expose:e}}function ur(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(No(Pn(t.exposed)),{get(e,s){if(s in e)return e[s];if(s in fs)return fs[s](t)},has(e,s){return s in e||s in fs}})):t.proxy}function Zc(t,e=!0){return B(t)?t.displayName||t.name:t.name||e&&t.__name}function eu(t){return B(t)&&"__vccOpts"in t}const Te=(t,e)=>Ul(t,e,cr);function ga(t,e,s){const r=arguments.length;return r===2?oe(e)&&!D(e)?Jr(e)?Se(t,null,[e]):Se(t,e):Se(t,null,e):(r>3?s=Array.prototype.slice.call(arguments,2):r===3&&Jr(s)&&(s=[s]),Se(t,e,s))}const tu="3.4.31";/**
* @vue/runtime-dom v3.4.31
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const su="http://www.w3.org/2000/svg",ru="http://www.w3.org/1998/Math/MathML",tt=typeof document<"u"?document:null,mi=tt&&tt.createElement("template"),nu={insert:(t,e,s)=>{e.insertBefore(t,s||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,s,r)=>{const n=e==="svg"?tt.createElementNS(su,t):e==="mathml"?tt.createElementNS(ru,t):s?tt.createElement(t,{is:s}):tt.createElement(t);return t==="select"&&r&&r.multiple!=null&&n.setAttribute("multiple",r.multiple),n},createText:t=>tt.createTextNode(t),createComment:t=>tt.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>tt.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,s,r,n,i){const o=s?s.previousSibling:e.lastChild;if(n&&(n===i||n.nextSibling))for(;e.insertBefore(n.cloneNode(!0),s),!(n===i||!(n=n.nextSibling)););else{mi.innerHTML=r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t;const a=mi.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,s)}return[o?o.nextSibling:e.firstChild,s?s.previousSibling:e.lastChild]}},iu=Symbol("_vtc");function ou(t,e,s){const r=t[iu];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):s?t.setAttribute("class",e):t.className=e}const vi=Symbol("_vod"),au=Symbol("_vsh"),lu=Symbol(""),cu=/(^|;)\s*display\s*:/;function uu(t,e,s){const r=t.style,n=ce(s);let i=!1;if(s&&!n){if(e)if(ce(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();s[a]==null&&zs(r,a,"")}else for(const o in e)s[o]==null&&zs(r,o,"");for(const o in s)o==="display"&&(i=!0),zs(r,o,s[o])}else if(n){if(e!==s){const o=r[lu];o&&(s+=";"+o),r.cssText=s,i=cu.test(s)}}else e&&t.removeAttribute("style");vi in t&&(t[vi]=i?r.display:"",t[au]&&(r.display="none"))}const yi=/\s*!important$/;function zs(t,e,s){if(D(s))s.forEach(r=>zs(t,e,r));else if(s==null&&(s=""),e.startsWith("--"))t.setProperty(e,s);else{const r=hu(t,e);yi.test(s)?t.setProperty(ts(r),s.replace(yi,""),"important"):t[r]=s}}const bi=["Webkit","Moz","ms"],xr={};function hu(t,e){const s=xr[e];if(s)return s;let r=Ye(e);if(r!=="filter"&&r in t)return xr[e]=r;r=rr(r);for(let n=0;n<bi.length;n++){const i=bi[n]+r;if(i in t)return xr[e]=i}return e}const wi="http://www.w3.org/1999/xlink";function Ei(t,e,s,r,n,i=dl(e)){r&&e.startsWith("xlink:")?s==null?t.removeAttributeNS(wi,e.slice(6,e.length)):t.setAttributeNS(wi,e,s):s==null||i&&!_o(s)?t.removeAttribute(e):t.setAttribute(e,i?"":yt(s)?String(s):s)}function fu(t,e,s,r,n,i,o){if(e==="innerHTML"||e==="textContent"){r&&o(r,n,i),t[e]=s??"";return}const a=t.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){const u=a==="OPTION"?t.getAttribute("value")||"":t.value,c=s==null?"":String(s);(u!==c||!("_value"in t))&&(t.value=c),s==null&&t.removeAttribute(e),t._value=s;return}let l=!1;if(s===""||s==null){const u=typeof t[e];u==="boolean"?s=_o(s):s==null&&u==="string"?(s="",l=!0):u==="number"&&(s=0,l=!0)}try{t[e]=s}catch{}l&&t.removeAttribute(e)}function qt(t,e,s,r){t.addEventListener(e,s,r)}function du(t,e,s,r){t.removeEventListener(e,s,r)}const Si=Symbol("_vei");function pu(t,e,s,r,n=null){const i=t[Si]||(t[Si]={}),o=i[e];if(r&&o)o.value=r;else{const[a,l]=gu(e);if(r){const u=i[e]=vu(r,n);qt(t,a,u,l)}else o&&(du(t,a,o,l),i[e]=void 0)}}const ki=/(?:Once|Passive|Capture)$/;function gu(t){let e;if(ki.test(t)){e={};let r;for(;r=t.match(ki);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):ts(t.slice(2)),e]}let Rr=0;const _u=Promise.resolve(),mu=()=>Rr||(_u.then(()=>Rr=0),Rr=Date.now());function vu(t,e){const s=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=s.attached)return;qe(yu(r,s.value),e,5,[r])};return s.value=t,s.attached=mu(),s}function yu(t,e){if(D(e)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},e.map(r=>n=>!n._stopped&&r&&r(n))}else return e}const Pi=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,bu=(t,e,s,r,n,i,o,a,l)=>{const u=n==="svg";e==="class"?ou(t,r,u):e==="style"?uu(t,s,r):er(e)?dn(e)||pu(t,e,s,r,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):wu(t,e,r,u))?(fu(t,e,r,i,o,a,l),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Ei(t,e,r,u,o,e!=="value")):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),Ei(t,e,r,u))};function wu(t,e,s,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&Pi(e)&&B(s));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const n=t.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return Pi(e)&&ce(s)?!1:e in t}const Oi=t=>{const e=t.props["onUpdate:modelValue"]||!1;return D(e)?s=>Bs(e,s):e};function Eu(t){t.target.composing=!0}function xi(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Tr=Symbol("_assign"),Su={created(t,{modifiers:{lazy:e,trim:s,number:r}},n){t[Tr]=Oi(n);const i=r||n.props&&n.props.type==="number";qt(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;s&&(a=a.trim()),i&&(a=Nr(a)),t[Tr](a)}),s&&qt(t,"change",()=>{t.value=t.value.trim()}),e||(qt(t,"compositionstart",Eu),qt(t,"compositionend",xi),qt(t,"change",xi))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:s,modifiers:{lazy:r,trim:n,number:i}},o){if(t[Tr]=Oi(o),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?Nr(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(r&&e===s||n&&t.value.trim()===l)||(t.value=l))}},ku=fe({patchProp:bu},nu);let Ri;function Pu(){return Ri||(Ri=Cc(ku))}const Ou=(...t)=>{const e=Pu().createApp(...t),{mount:s}=e;return e.mount=r=>{const n=Ru(r);if(!n)return;const i=e._component;!B(i)&&!i.render&&!i.template&&(i.template=n.innerHTML),n.innerHTML="";const o=s(n,!1,xu(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},e};function xu(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Ru(t){return ce(t)?document.querySelector(t):t}var Tu=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let _a;const hr=t=>_a=t,ma=Symbol();function Zr(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var ps;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(ps||(ps={}));function Cu(){const t=bo(!0),e=t.run(()=>Le({}));let s=[],r=[];const n=Pn({install(i){hr(n),n._a=i,i.provide(ma,n),i.config.globalProperties.$pinia=n,r.forEach(o=>s.push(o)),r=[]},use(i){return!this._a&&!Tu?r.push(i):s.push(i),this},_p:s,_a:null,_e:t,_s:new Map,state:e});return n}const va=()=>{};function Ti(t,e,s,r=va){t.push(e);const n=()=>{const i=t.indexOf(e);i>-1&&(t.splice(i,1),r())};return!s&&wo()&&gl(n),n}function Nt(t,...e){t.slice().forEach(s=>{s(...e)})}const Au=t=>t();function en(t,e){t instanceof Map&&e instanceof Map&&e.forEach((s,r)=>t.set(r,s)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const s in e){if(!e.hasOwnProperty(s))continue;const r=e[s],n=t[s];Zr(n)&&Zr(r)&&t.hasOwnProperty(s)&&!ue(r)&&!$t(r)?t[s]=en(n,r):t[s]=r}return t}const $u=Symbol();function ju(t){return!Zr(t)||!t.hasOwnProperty($u)}const{assign:at}=Object;function Iu(t){return!!(ue(t)&&t.effect)}function Lu(t,e,s,r){const{state:n,actions:i,getters:o}=e,a=s.state.value[t];let l;function u(){a||(s.state.value[t]=n?n():{});const c=Fl(s.state.value[t]);return at(c,i,Object.keys(o||{}).reduce((h,p)=>(h[p]=Pn(Te(()=>{hr(s);const g=s._s.get(t);return o[p].call(g,g)})),h),{}))}return l=ya(t,u,e,s,r,!0),l}function ya(t,e,s={},r,n,i){let o;const a=at({actions:{}},s),l={deep:!0};let u,c,h=[],p=[],g;const w=r.state.value[t];!i&&!w&&(r.state.value[t]={}),Le({});let E;function R(V){let W;u=c=!1,typeof V=="function"?(V(r.state.value[t]),W={type:ps.patchFunction,storeId:t,events:g}):(en(r.state.value[t],V),W={type:ps.patchObject,payload:V,storeId:t,events:g});const le=E=Symbol();Rn().then(()=>{E===le&&(u=!0)}),c=!0,Nt(h,W,r.state.value[t])}const j=i?function(){const{state:W}=s,le=W?W():{};this.$patch(pe=>{at(pe,le)})}:va;function $(){o.stop(),h=[],p=[],r._s.delete(t)}function T(V,W){return function(){hr(r);const le=Array.from(arguments),pe=[],Pe=[];function Ce(Q){pe.push(Q)}function Et(Q){Pe.push(Q)}Nt(p,{args:le,name:V,store:N,after:Ce,onError:Et});let Ae;try{Ae=W.apply(this&&this.$id===t?this:N,le)}catch(Q){throw Nt(Pe,Q),Q}return Ae instanceof Promise?Ae.then(Q=>(Nt(pe,Q),Q)).catch(Q=>(Nt(Pe,Q),Promise.reject(Q))):(Nt(pe,Ae),Ae)}}const M={_p:r,$id:t,$onAction:Ti.bind(null,p),$patch:R,$reset:j,$subscribe(V,W={}){const le=Ti(h,V,W.detached,()=>pe()),pe=o.run(()=>jt(()=>r.state.value[t],Pe=>{(W.flush==="sync"?c:u)&&V({storeId:t,type:ps.direct,events:g},Pe)},at({},l,W)));return le},$dispose:$},N=xs(M);r._s.set(t,N);const te=(r._a&&r._a.runWithContext||Au)(()=>r._e.run(()=>(o=bo()).run(e)));for(const V in te){const W=te[V];if(ue(W)&&!Iu(W)||$t(W))i||(w&&ju(W)&&(ue(W)?W.value=w[V]:en(W,w[V])),r.state.value[t][V]=W);else if(typeof W=="function"){const le=T(V,W);te[V]=le,a.actions[V]=W}}return at(N,te),at(J(N),te),Object.defineProperty(N,"$state",{get:()=>r.state.value[t],set:V=>{R(W=>{at(W,V)})}}),r._p.forEach(V=>{at(N,o.run(()=>V({store:N,app:r._a,pinia:r,options:a})))}),w&&i&&s.hydrate&&s.hydrate(N.$state,w),u=!0,c=!0,N}function Uu(t,e,s){let r,n;const i=typeof e=="function";r=t,n=i?s:e;function o(a,l){const u=kc();return a=a||(u?Ke(ma,null):null),a&&hr(a),a=_a,a._s.has(r)||(i?ya(r,e,n,a):Lu(r,n,a)),a._s.get(r)}return o.$id=r,o}const In=(t,e)=>{const s=t.__vccOpts||t;for(const[r,n]of e)s[r]=n;return s},Du={};function Mu(t,e){const s=tc("RouterView");return Be(),Xe("main",null,[Se(s)])}const Nu=In(Du,[["render",Mu]]);/*!
  * vue-router v4.4.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Kt=typeof document<"u";function Fu(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const ee=Object.assign;function Cr(t,e){const s={};for(const r in e){const n=e[r];s[r]=Ve(n)?n.map(t):t(n)}return s}const gs=()=>{},Ve=Array.isArray,ba=/#/g,Bu=/&/g,Hu=/\//g,qu=/=/g,Ku=/\?/g,wa=/\+/g,Vu=/%5B/g,zu=/%5D/g,Ea=/%5E/g,Wu=/%60/g,Sa=/%7B/g,Gu=/%7C/g,ka=/%7D/g,Ju=/%20/g;function Ln(t){return encodeURI(""+t).replace(Gu,"|").replace(Vu,"[").replace(zu,"]")}function Qu(t){return Ln(t).replace(Sa,"{").replace(ka,"}").replace(Ea,"^")}function tn(t){return Ln(t).replace(wa,"%2B").replace(Ju,"+").replace(ba,"%23").replace(Bu,"%26").replace(Wu,"`").replace(Sa,"{").replace(ka,"}").replace(Ea,"^")}function Xu(t){return tn(t).replace(qu,"%3D")}function Yu(t){return Ln(t).replace(ba,"%23").replace(Ku,"%3F")}function Zu(t){return t==null?"":Yu(t).replace(Hu,"%2F")}function ks(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const eh=/\/$/,th=t=>t.replace(eh,"");function Ar(t,e,s="/"){let r,n={},i="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=e.slice(0,l),i=e.slice(l+1,a>-1?a:e.length),n=t(i)),a>-1&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=ih(r??e,s),{fullPath:r+(i&&"?")+i+o,path:r,query:n,hash:ks(o)}}function sh(t,e){const s=e.query?t(e.query):"";return e.path+(s&&"?")+s+(e.hash||"")}function Ci(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function rh(t,e,s){const r=e.matched.length-1,n=s.matched.length-1;return r>-1&&r===n&&Xt(e.matched[r],s.matched[n])&&Pa(e.params,s.params)&&t(e.query)===t(s.query)&&e.hash===s.hash}function Xt(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Pa(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const s in t)if(!nh(t[s],e[s]))return!1;return!0}function nh(t,e){return Ve(t)?Ai(t,e):Ve(e)?Ai(e,t):t===e}function Ai(t,e){return Ve(e)?t.length===e.length&&t.every((s,r)=>s===e[r]):t.length===1&&t[0]===e}function ih(t,e){if(t.startsWith("/"))return t;if(!t)return e;const s=e.split("/"),r=t.split("/"),n=r[r.length-1];(n===".."||n===".")&&r.push("");let i=s.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")i>1&&i--;else break;return s.slice(0,i).join("/")+"/"+r.slice(o).join("/")}const ot={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Ps;(function(t){t.pop="pop",t.push="push"})(Ps||(Ps={}));var _s;(function(t){t.back="back",t.forward="forward",t.unknown=""})(_s||(_s={}));function oh(t){if(!t)if(Kt){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),th(t)}const ah=/^[^#]+#/;function lh(t,e){return t.replace(ah,"#")+e}function ch(t,e){const s=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-s.left-(e.left||0),top:r.top-s.top-(e.top||0)}}const fr=()=>({left:window.scrollX,top:window.scrollY});function uh(t){let e;if("el"in t){const s=t.el,r=typeof s=="string"&&s.startsWith("#"),n=typeof s=="string"?r?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!n)return;e=ch(n,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function $i(t,e){return(history.state?history.state.position-e:-1)+t}const sn=new Map;function hh(t,e){sn.set(t,e)}function fh(t){const e=sn.get(t);return sn.delete(t),e}let dh=()=>location.protocol+"//"+location.host;function Oa(t,e){const{pathname:s,search:r,hash:n}=e,i=t.indexOf("#");if(i>-1){let a=n.includes(t.slice(i))?t.slice(i).length:1,l=n.slice(a);return l[0]!=="/"&&(l="/"+l),Ci(l,"")}return Ci(s,t)+r+n}function ph(t,e,s,r){let n=[],i=[],o=null;const a=({state:p})=>{const g=Oa(t,location),w=s.value,E=e.value;let R=0;if(p){if(s.value=g,e.value=p,o&&o===w){o=null;return}R=E?p.position-E.position:0}else r(g);n.forEach(j=>{j(s.value,w,{delta:R,type:Ps.pop,direction:R?R>0?_s.forward:_s.back:_s.unknown})})};function l(){o=s.value}function u(p){n.push(p);const g=()=>{const w=n.indexOf(p);w>-1&&n.splice(w,1)};return i.push(g),g}function c(){const{history:p}=window;p.state&&p.replaceState(ee({},p.state,{scroll:fr()}),"")}function h(){for(const p of i)p();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:h}}function ji(t,e,s,r=!1,n=!1){return{back:t,current:e,forward:s,replaced:r,position:window.history.length,scroll:n?fr():null}}function gh(t){const{history:e,location:s}=window,r={value:Oa(t,s)},n={value:e.state};n.value||i(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(l,u,c){const h=t.indexOf("#"),p=h>-1?(s.host&&document.querySelector("base")?t:t.slice(h))+l:dh()+t+l;try{e[c?"replaceState":"pushState"](u,"",p),n.value=u}catch(g){console.error(g),s[c?"replace":"assign"](p)}}function o(l,u){const c=ee({},e.state,ji(n.value.back,l,n.value.forward,!0),u,{position:n.value.position});i(l,c,!0),r.value=l}function a(l,u){const c=ee({},n.value,e.state,{forward:l,scroll:fr()});i(c.current,c,!0);const h=ee({},ji(r.value,l,null),{position:c.position+1},u);i(l,h,!1),r.value=l}return{location:r,state:n,push:a,replace:o}}function _h(t){t=oh(t);const e=gh(t),s=ph(t,e.state,e.location,e.replace);function r(i,o=!0){o||s.pauseListeners(),history.go(i)}const n=ee({location:"",base:t,go:r,createHref:lh.bind(null,t)},e,s);return Object.defineProperty(n,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(n,"state",{enumerable:!0,get:()=>e.state.value}),n}function mh(t){return typeof t=="string"||t&&typeof t=="object"}function xa(t){return typeof t=="string"||typeof t=="symbol"}const Ra=Symbol("");var Ii;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Ii||(Ii={}));function Yt(t,e){return ee(new Error,{type:t,[Ra]:!0},e)}function et(t,e){return t instanceof Error&&Ra in t&&(e==null||!!(t.type&e))}const Li="[^/]+?",vh={sensitive:!1,strict:!1,start:!0,end:!0},yh=/[.+*?^${}()[\]/\\]/g;function bh(t,e){const s=ee({},vh,e),r=[];let n=s.start?"^":"";const i=[];for(const u of t){const c=u.length?[]:[90];s.strict&&!u.length&&(n+="/");for(let h=0;h<u.length;h++){const p=u[h];let g=40+(s.sensitive?.25:0);if(p.type===0)h||(n+="/"),n+=p.value.replace(yh,"\\$&"),g+=40;else if(p.type===1){const{value:w,repeatable:E,optional:R,regexp:j}=p;i.push({name:w,repeatable:E,optional:R});const $=j||Li;if($!==Li){g+=10;try{new RegExp(`(${$})`)}catch(M){throw new Error(`Invalid custom RegExp for param "${w}" (${$}): `+M.message)}}let T=E?`((?:${$})(?:/(?:${$}))*)`:`(${$})`;h||(T=R&&u.length<2?`(?:/${T})`:"/"+T),R&&(T+="?"),n+=T,g+=20,R&&(g+=-8),E&&(g+=-20),$===".*"&&(g+=-50)}c.push(g)}r.push(c)}if(s.strict&&s.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}s.strict||(n+="/?"),s.end?n+="$":s.strict&&(n+="(?:/|$)");const o=new RegExp(n,s.sensitive?"":"i");function a(u){const c=u.match(o),h={};if(!c)return null;for(let p=1;p<c.length;p++){const g=c[p]||"",w=i[p-1];h[w.name]=g&&w.repeatable?g.split("/"):g}return h}function l(u){let c="",h=!1;for(const p of t){(!h||!c.endsWith("/"))&&(c+="/"),h=!1;for(const g of p)if(g.type===0)c+=g.value;else if(g.type===1){const{value:w,repeatable:E,optional:R}=g,j=w in u?u[w]:"";if(Ve(j)&&!E)throw new Error(`Provided param "${w}" is an array but it is not repeatable (* or + modifiers)`);const $=Ve(j)?j.join("/"):j;if(!$)if(R)p.length<2&&(c.endsWith("/")?c=c.slice(0,-1):h=!0);else throw new Error(`Missing required param "${w}"`);c+=$}}return c||"/"}return{re:o,score:r,keys:i,parse:a,stringify:l}}function wh(t,e){let s=0;for(;s<t.length&&s<e.length;){const r=e[s]-t[s];if(r)return r;s++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function Ta(t,e){let s=0;const r=t.score,n=e.score;for(;s<r.length&&s<n.length;){const i=wh(r[s],n[s]);if(i)return i;s++}if(Math.abs(n.length-r.length)===1){if(Ui(r))return 1;if(Ui(n))return-1}return n.length-r.length}function Ui(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const Eh={type:0,value:""},Sh=/[a-zA-Z0-9_]/;function kh(t){if(!t)return[[]];if(t==="/")return[[Eh]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(g){throw new Error(`ERR (${s})/"${u}": ${g}`)}let s=0,r=s;const n=[];let i;function o(){i&&n.push(i),i=[]}let a=0,l,u="",c="";function h(){u&&(s===0?i.push({type:0,value:u}):s===1||s===2||s===3?(i.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function p(){u+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&s!==2){r=s,s=4;continue}switch(s){case 0:l==="/"?(u&&h(),o()):l===":"?(h(),s=1):p();break;case 4:p(),s=r;break;case 1:l==="("?s=2:Sh.test(l)?p():(h(),s=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:s=3:c+=l;break;case 3:h(),s=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:e("Unknown state");break}}return s===2&&e(`Unfinished custom RegExp for param "${u}"`),h(),o(),n}function Ph(t,e,s){const r=bh(kh(t.path),s),n=ee(r,{record:t,parent:e,children:[],alias:[]});return e&&!n.record.aliasOf==!e.record.aliasOf&&e.children.push(n),n}function Oh(t,e){const s=[],r=new Map;e=Ni({strict:!1,end:!0,sensitive:!1},e);function n(h){return r.get(h)}function i(h,p,g){const w=!g,E=xh(h);E.aliasOf=g&&g.record;const R=Ni(e,h),j=[E];if("alias"in h){const M=typeof h.alias=="string"?[h.alias]:h.alias;for(const N of M)j.push(ee({},E,{components:g?g.record.components:E.components,path:N,aliasOf:g?g.record:E}))}let $,T;for(const M of j){const{path:N}=M;if(p&&N[0]!=="/"){const H=p.record.path,te=H[H.length-1]==="/"?"":"/";M.path=p.record.path+(N&&te+N)}if($=Ph(M,p,R),g?g.alias.push($):(T=T||$,T!==$&&T.alias.push($),w&&h.name&&!Mi($)&&o(h.name)),Ca($)&&l($),E.children){const H=E.children;for(let te=0;te<H.length;te++)i(H[te],$,g&&g.children[te])}g=g||$}return T?()=>{o(T)}:gs}function o(h){if(xa(h)){const p=r.get(h);p&&(r.delete(h),s.splice(s.indexOf(p),1),p.children.forEach(o),p.alias.forEach(o))}else{const p=s.indexOf(h);p>-1&&(s.splice(p,1),h.record.name&&r.delete(h.record.name),h.children.forEach(o),h.alias.forEach(o))}}function a(){return s}function l(h){const p=Ch(h,s);s.splice(p,0,h),h.record.name&&!Mi(h)&&r.set(h.record.name,h)}function u(h,p){let g,w={},E,R;if("name"in h&&h.name){if(g=r.get(h.name),!g)throw Yt(1,{location:h});R=g.record.name,w=ee(Di(p.params,g.keys.filter(T=>!T.optional).concat(g.parent?g.parent.keys.filter(T=>T.optional):[]).map(T=>T.name)),h.params&&Di(h.params,g.keys.map(T=>T.name))),E=g.stringify(w)}else if(h.path!=null)E=h.path,g=s.find(T=>T.re.test(E)),g&&(w=g.parse(E),R=g.record.name);else{if(g=p.name?r.get(p.name):s.find(T=>T.re.test(p.path)),!g)throw Yt(1,{location:h,currentLocation:p});R=g.record.name,w=ee({},p.params,h.params),E=g.stringify(w)}const j=[];let $=g;for(;$;)j.unshift($.record),$=$.parent;return{name:R,path:E,params:w,matched:j,meta:Th(j)}}t.forEach(h=>i(h));function c(){s.length=0,r.clear()}return{addRoute:i,resolve:u,removeRoute:o,clearRoutes:c,getRoutes:a,getRecordMatcher:n}}function Di(t,e){const s={};for(const r of e)r in t&&(s[r]=t[r]);return s}function xh(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:Rh(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function Rh(t){const e={},s=t.props||!1;if("component"in t)e.default=s;else for(const r in t.components)e[r]=typeof s=="object"?s[r]:s;return e}function Mi(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Th(t){return t.reduce((e,s)=>ee(e,s.meta),{})}function Ni(t,e){const s={};for(const r in t)s[r]=r in e?e[r]:t[r];return s}function Ch(t,e){let s=0,r=e.length;for(;s!==r;){const i=s+r>>1;Ta(t,e[i])<0?r=i:s=i+1}const n=Ah(t);return n&&(r=e.lastIndexOf(n,r-1)),r}function Ah(t){let e=t;for(;e=e.parent;)if(Ca(e)&&Ta(t,e)===0)return e}function Ca({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function $h(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let n=0;n<r.length;++n){const i=r[n].replace(wa," "),o=i.indexOf("="),a=ks(o<0?i:i.slice(0,o)),l=o<0?null:ks(i.slice(o+1));if(a in e){let u=e[a];Ve(u)||(u=e[a]=[u]),u.push(l)}else e[a]=l}return e}function Fi(t){let e="";for(let s in t){const r=t[s];if(s=Xu(s),r==null){r!==void 0&&(e+=(e.length?"&":"")+s);continue}(Ve(r)?r.map(i=>i&&tn(i)):[r&&tn(r)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+s,i!=null&&(e+="="+i))})}return e}function jh(t){const e={};for(const s in t){const r=t[s];r!==void 0&&(e[s]=Ve(r)?r.map(n=>n==null?null:""+n):r==null?r:""+r)}return e}const Ih=Symbol(""),Bi=Symbol(""),dr=Symbol(""),Aa=Symbol(""),rn=Symbol("");function os(){let t=[];function e(r){return t.push(r),()=>{const n=t.indexOf(r);n>-1&&t.splice(n,1)}}function s(){t=[]}return{add:e,list:()=>t.slice(),reset:s}}function ht(t,e,s,r,n,i=o=>o()){const o=r&&(r.enterCallbacks[n]=r.enterCallbacks[n]||[]);return()=>new Promise((a,l)=>{const u=p=>{p===!1?l(Yt(4,{from:s,to:e})):p instanceof Error?l(p):mh(p)?l(Yt(2,{from:e,to:p})):(o&&r.enterCallbacks[n]===o&&typeof p=="function"&&o.push(p),a())},c=i(()=>t.call(r&&r.instances[n],e,s,u));let h=Promise.resolve(c);t.length<3&&(h=h.then(u)),h.catch(p=>l(p))})}function $r(t,e,s,r,n=i=>i()){const i=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(Lh(l)){const c=(l.__vccOpts||l)[e];c&&i.push(ht(c,s,r,o,a,n))}else{let u=l();i.push(()=>u.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${o.path}"`));const h=Fu(c)?c.default:c;o.components[a]=h;const g=(h.__vccOpts||h)[e];return g&&ht(g,s,r,o,a,n)()}))}}return i}function Lh(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Hi(t){const e=Ke(dr),s=Ke(Aa),r=Te(()=>{const l=_t(t.to);return e.resolve(l)}),n=Te(()=>{const{matched:l}=r.value,{length:u}=l,c=l[u-1],h=s.matched;if(!c||!h.length)return-1;const p=h.findIndex(Xt.bind(null,c));if(p>-1)return p;const g=qi(l[u-2]);return u>1&&qi(c)===g&&h[h.length-1].path!==g?h.findIndex(Xt.bind(null,l[u-2])):p}),i=Te(()=>n.value>-1&&Nh(s.params,r.value.params)),o=Te(()=>n.value>-1&&n.value===s.matched.length-1&&Pa(s.params,r.value.params));function a(l={}){return Mh(l)?e[_t(t.replace)?"replace":"push"](_t(t.to)).catch(gs):Promise.resolve()}return{route:r,href:Te(()=>r.value.href),isActive:i,isExactActive:o,navigate:a}}const Uh=Wo({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Hi,setup(t,{slots:e}){const s=xs(Hi(t)),{options:r}=Ke(dr),n=Te(()=>({[Ki(t.activeClass,r.linkActiveClass,"router-link-active")]:s.isActive,[Ki(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const i=e.default&&e.default(s);return t.custom?i:ga("a",{"aria-current":s.isExactActive?t.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:n.value},i)}}}),Dh=Uh;function Mh(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Nh(t,e){for(const s in e){const r=e[s],n=t[s];if(typeof r=="string"){if(r!==n)return!1}else if(!Ve(n)||n.length!==r.length||r.some((i,o)=>i!==n[o]))return!1}return!0}function qi(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Ki=(t,e,s)=>t??e??s,Fh=Wo({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:s}){const r=Ke(rn),n=Te(()=>t.route||r.value),i=Ke(Bi,0),o=Te(()=>{let u=_t(i);const{matched:c}=n.value;let h;for(;(h=c[u])&&!h.components;)u++;return u}),a=Te(()=>n.value.matched[o.value]);Ks(Bi,Te(()=>o.value+1)),Ks(Ih,a),Ks(rn,n);const l=Le();return jt(()=>[l.value,a.value,t.name],([u,c,h],[p,g,w])=>{c&&(c.instances[h]=u,g&&g!==c&&u&&u===p&&(c.leaveGuards.size||(c.leaveGuards=g.leaveGuards),c.updateGuards.size||(c.updateGuards=g.updateGuards))),u&&c&&(!g||!Xt(c,g)||!p)&&(c.enterCallbacks[h]||[]).forEach(E=>E(u))},{flush:"post"}),()=>{const u=n.value,c=t.name,h=a.value,p=h&&h.components[c];if(!p)return Vi(s.default,{Component:p,route:u});const g=h.props[c],w=g?g===!0?u.params:typeof g=="function"?g(u):g:null,R=ga(p,ee({},w,e,{onVnodeUnmounted:j=>{j.component.isUnmounted&&(h.instances[c]=null)},ref:l}));return Vi(s.default,{Component:R,route:u})||R}}});function Vi(t,e){if(!t)return null;const s=t(e);return s.length===1?s[0]:s}const Bh=Fh;function Hh(t){const e=Oh(t.routes,t),s=t.parseQuery||$h,r=t.stringifyQuery||Fi,n=t.history,i=os(),o=os(),a=os(),l=Dl(ot);let u=ot;Kt&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=Cr.bind(null,v=>""+v),h=Cr.bind(null,Zu),p=Cr.bind(null,ks);function g(v,C){let x,I;return xa(v)?(x=e.getRecordMatcher(v),I=C):I=v,e.addRoute(I,x)}function w(v){const C=e.getRecordMatcher(v);C&&e.removeRoute(C)}function E(){return e.getRoutes().map(v=>v.record)}function R(v){return!!e.getRecordMatcher(v)}function j(v,C){if(C=ee({},C||l.value),typeof v=="string"){const d=Ar(s,v,C.path),_=e.resolve({path:d.path},C),y=n.createHref(d.fullPath);return ee(d,_,{params:p(_.params),hash:ks(d.hash),redirectedFrom:void 0,href:y})}let x;if(v.path!=null)x=ee({},v,{path:Ar(s,v.path,C.path).path});else{const d=ee({},v.params);for(const _ in d)d[_]==null&&delete d[_];x=ee({},v,{params:h(d)}),C.params=h(C.params)}const I=e.resolve(x,C),Z=v.hash||"";I.params=c(p(I.params));const ae=sh(r,ee({},v,{hash:Qu(Z),path:I.path})),f=n.createHref(ae);return ee({fullPath:ae,hash:Z,query:r===Fi?jh(v.query):v.query||{}},I,{redirectedFrom:void 0,href:f})}function $(v){return typeof v=="string"?Ar(s,v,l.value.path):ee({},v)}function T(v,C){if(u!==v)return Yt(8,{from:C,to:v})}function M(v){return te(v)}function N(v){return M(ee($(v),{replace:!0}))}function H(v){const C=v.matched[v.matched.length-1];if(C&&C.redirect){const{redirect:x}=C;let I=typeof x=="function"?x(v):x;return typeof I=="string"&&(I=I.includes("?")||I.includes("#")?I=$(I):{path:I},I.params={}),ee({query:v.query,hash:v.hash,params:I.path!=null?{}:v.params},I)}}function te(v,C){const x=u=j(v),I=l.value,Z=v.state,ae=v.force,f=v.replace===!0,d=H(x);if(d)return te(ee($(d),{state:typeof d=="object"?ee({},Z,d.state):Z,force:ae,replace:f}),C||x);const _=x;_.redirectedFrom=C;let y;return!ae&&rh(r,I,x)&&(y=Yt(16,{to:_,from:I}),ze(I,I,!0,!1)),(y?Promise.resolve(y):le(_,I)).catch(m=>et(m)?et(m,2)?m:nt(m):X(m,_,I)).then(m=>{if(m){if(et(m,2))return te(ee({replace:f},$(m.to),{state:typeof m.to=="object"?ee({},Z,m.to.state):Z,force:ae}),C||_)}else m=Pe(_,I,!0,f,Z);return pe(_,I,m),m})}function V(v,C){const x=T(v,C);return x?Promise.reject(x):Promise.resolve()}function W(v){const C=Dt.values().next().value;return C&&typeof C.runWithContext=="function"?C.runWithContext(v):v()}function le(v,C){let x;const[I,Z,ae]=qh(v,C);x=$r(I.reverse(),"beforeRouteLeave",v,C);for(const d of I)d.leaveGuards.forEach(_=>{x.push(ht(_,v,C))});const f=V.bind(null,v,C);return x.push(f),ge(x).then(()=>{x=[];for(const d of i.list())x.push(ht(d,v,C));return x.push(f),ge(x)}).then(()=>{x=$r(Z,"beforeRouteUpdate",v,C);for(const d of Z)d.updateGuards.forEach(_=>{x.push(ht(_,v,C))});return x.push(f),ge(x)}).then(()=>{x=[];for(const d of ae)if(d.beforeEnter)if(Ve(d.beforeEnter))for(const _ of d.beforeEnter)x.push(ht(_,v,C));else x.push(ht(d.beforeEnter,v,C));return x.push(f),ge(x)}).then(()=>(v.matched.forEach(d=>d.enterCallbacks={}),x=$r(ae,"beforeRouteEnter",v,C,W),x.push(f),ge(x))).then(()=>{x=[];for(const d of o.list())x.push(ht(d,v,C));return x.push(f),ge(x)}).catch(d=>et(d,8)?d:Promise.reject(d))}function pe(v,C,x){a.list().forEach(I=>W(()=>I(v,C,x)))}function Pe(v,C,x,I,Z){const ae=T(v,C);if(ae)return ae;const f=C===ot,d=Kt?history.state:{};x&&(I||f?n.replace(v.fullPath,ee({scroll:f&&d&&d.scroll},Z)):n.push(v.fullPath,Z)),l.value=v,ze(v,C,x,f),nt()}let Ce;function Et(){Ce||(Ce=n.listen((v,C,x)=>{if(!As.listening)return;const I=j(v),Z=H(I);if(Z){te(ee(Z,{replace:!0}),I).catch(gs);return}u=I;const ae=l.value;Kt&&hh($i(ae.fullPath,x.delta),fr()),le(I,ae).catch(f=>et(f,12)?f:et(f,2)?(te(f.to,I).then(d=>{et(d,20)&&!x.delta&&x.type===Ps.pop&&n.go(-1,!1)}).catch(gs),Promise.reject()):(x.delta&&n.go(-x.delta,!1),X(f,I,ae))).then(f=>{f=f||Pe(I,ae,!1),f&&(x.delta&&!et(f,8)?n.go(-x.delta,!1):x.type===Ps.pop&&et(f,20)&&n.go(-1,!1)),pe(I,ae,f)}).catch(gs)}))}let Ae=os(),Q=os(),se;function X(v,C,x){nt(v);const I=Q.list();return I.length?I.forEach(Z=>Z(v,C,x)):console.error(v),Promise.reject(v)}function Ze(){return se&&l.value!==ot?Promise.resolve():new Promise((v,C)=>{Ae.add([v,C])})}function nt(v){return se||(se=!v,Et(),Ae.list().forEach(([C,x])=>v?x(v):C()),Ae.reset()),v}function ze(v,C,x,I){const{scrollBehavior:Z}=t;if(!Kt||!Z)return Promise.resolve();const ae=!x&&fh($i(v.fullPath,0))||(I||!x)&&history.state&&history.state.scroll||null;return Rn().then(()=>Z(v,C,ae)).then(f=>f&&uh(f)).catch(f=>X(f,v,C))}const be=v=>n.go(v);let Ut;const Dt=new Set,As={currentRoute:l,listening:!0,addRoute:g,removeRoute:w,clearRoutes:e.clearRoutes,hasRoute:R,getRoutes:E,resolve:j,options:t,push:M,replace:N,go:be,back:()=>be(-1),forward:()=>be(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:Q.add,isReady:Ze,install(v){const C=this;v.component("RouterLink",Dh),v.component("RouterView",Bh),v.config.globalProperties.$router=C,Object.defineProperty(v.config.globalProperties,"$route",{enumerable:!0,get:()=>_t(l)}),Kt&&!Ut&&l.value===ot&&(Ut=!0,M(n.location).catch(Z=>{}));const x={};for(const Z in ot)Object.defineProperty(x,Z,{get:()=>l.value[Z],enumerable:!0});v.provide(dr,C),v.provide(Aa,jo(x)),v.provide(rn,l);const I=v.unmount;Dt.add(v),v.unmount=function(){Dt.delete(v),Dt.size<1&&(u=ot,Ce&&Ce(),Ce=null,l.value=ot,Ut=!1,se=!1),I()}}};function ge(v){return v.reduce((C,x)=>C.then(()=>W(x)),Promise.resolve())}return As}function qh(t,e){const s=[],r=[],n=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(u=>Xt(u,a))?r.push(a):s.push(a));const l=t.matched[o];l&&(e.matched.find(u=>Xt(u,l))||n.push(l))}return[s,r,n]}function Ys(){return Ke(dr)}class $a{constructor(){zn(this,"headers");this.headers=new Headers,this.headers.append("Authorization","Bearer f2a670eb2648148553ab28d77612f4362dae3a59b7ad17ae2e9d14c910439a5c56f25693e568d8eb0995a743c1ae52a3a6cf9324b9a41ca94cde2a0e4d28fb21f8f28547ac4c58c21fd8ea24d22dce33c4bd46268c15e7106e3dd73b9a6efb96bd800d513a98e9a43b7bddd649ef6c0ec76bbae3ebc4c61e8e7bed95e8313783"),this.headers.append("Cookie","__cf_bm=0ignn_iPROKE0ao_rFIWm2FqUrxcFeuTLjpWBZQBgKQ-1721344085-1.0.1.1-MGMW9QlLMinMEGruP09T7C_ZF09gNSQW1MUSOW0kvo2WK_neEf4AOu0XUaiBjlMpn3K7.36Lj9O667WfuwmegQ")}async fetchStandData(e){const s={method:"GET",headers:this.headers,redirect:"follow"};try{const r=await fetch(e,s);if(r.status===200){const n=await r.json();return n.data.length>0?{status:"success",error:null,data:n.data.map(o=>({id:o.id,collection:o.attributes.collection.map(a=>({id:a.id,icon_url:a.icon.data.attributes.url,title:a.title,video_url:a.video.data.attributes.url}))}))}:{status:"error",error:"Ошибка: данные не найдены",data:null}}}catch(r){return{status:"error",error:`Ошибка: ${r.message}`,data:null}}}async checkKeyValidity(e){const s=`https://stand.evil-chan.ru/api/stands?populate=deep,3&filters[key][$eq]=${e}`;return(await this.fetchStandData(s)).status}async getIcons(e){const s=`https://stand.evil-chan.ru/api/stands?populate=deep,3&filters[key][$eq]=${e}`;return await this.fetchStandData(s)}}const Kh="modulepreload",Vh=function(t){return"/tablet_ui/"+t},zi={},Zt=function(e,s,r){let n=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),o=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));n=Promise.all(s.map(a=>{if(a=Vh(a),a in zi)return;zi[a]=!0;const l=a.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${u}`))return;const c=document.createElement("link");if(c.rel=l?"stylesheet":Kh,l||(c.as="script",c.crossOrigin=""),c.href=a,o&&c.setAttribute("nonce",o),document.head.appendChild(c),l)return new Promise((h,p)=>{c.addEventListener("load",h),c.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${a}`)))})}))}return n.then(()=>e()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})},zh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Zt(async()=>{const{default:r}=await Promise.resolve().then(()=>ss);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)};class Un extends Error{constructor(e,s="FunctionsError",r){super(e),this.name=s,this.context=r}}class Wh extends Un{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Gh extends Un{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Jh extends Un{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var nn;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(nn||(nn={}));var Qh=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class Xh{constructor(e,{headers:s={},customFetch:r,region:n=nn.Any}={}){this.url=e,this.headers=s,this.region=n,this.fetch=zh(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,s={}){var r;return Qh(this,void 0,void 0,function*(){try{const{headers:n,method:i,body:o}=s;let a={},{region:l}=s;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let u;o&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const c=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),n),body:u}).catch(w=>{throw new Wh(w)}),h=c.headers.get("x-relay-error");if(h&&h==="true")throw new Gh(c);if(!c.ok)throw new Jh(c);let p=((r=c.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),g;return p==="application/json"?g=yield c.json():p==="application/octet-stream"?g=yield c.blob():p==="text/event-stream"?g=c:p==="multipart/form-data"?g=yield c.formData():g=yield c.text(),{data:g,error:null}}catch(n){return{data:null,error:n}}})}}var Ue=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Yh(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var s=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};s.prototype=e.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(s,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}),s}var je={},Dn={},pr={},Ts={},gr={},_r={},Zh=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},es=Zh();const ef=es.fetch,ja=es.fetch.bind(es),Ia=es.Headers,tf=es.Request,sf=es.Response,ss=Object.freeze(Object.defineProperty({__proto__:null,Headers:Ia,Request:tf,Response:sf,default:ja,fetch:ef},Symbol.toStringTag,{value:"Module"})),rf=Yh(ss);var Mn={};Object.defineProperty(Mn,"__esModule",{value:!0});class nf extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}Mn.default=nf;var La=Ue&&Ue.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(_r,"__esModule",{value:!0});const of=La(rf),af=La(Mn);let lf=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=of.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(e,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let n=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let u=null,c=null,h=null,p=i.status,g=i.statusText;if(i.ok){if(this.method!=="HEAD"){const j=await i.text();j===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?c=j:c=JSON.parse(j))}const E=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),R=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");E&&R&&R.length>1&&(h=parseInt(R[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(c)&&(c.length>1?(u={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,h=null,p=406,g="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{const E=await i.text();try{u=JSON.parse(E),Array.isArray(u)&&i.status===404&&(c=[],u=null,p=200,g="OK")}catch{i.status===404&&E===""?(p=204,g="No Content"):u={message:E}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,p=200,g="OK"),u&&this.shouldThrowOnError)throw new af.default(u)}return{error:u,data:c,count:h,status:p,statusText:g}});return this.shouldThrowOnError||(n=n.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),n.then(e,s)}};_r.default=lf;var cf=Ue&&Ue.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(gr,"__esModule",{value:!0});const uf=cf(_r);let hf=class extends uf.default{select(e){let s=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!s?"":(n==='"'&&(s=!s),n)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:s=!0,nullsFirst:r,foreignTable:n,referencedTable:i=n}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${s?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:s,referencedTable:r=s}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,s,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"offset":`${n}.offset`,o=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${s-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:s=!1,settings:r=!1,buffers:n=!1,wal:i=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,s?"verbose":null,r?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};gr.default=hf;var ff=Ue&&Ue.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ts,"__esModule",{value:!0});const df=ff(gr);let pf=class extends df.default{eq(e,s){return this.url.searchParams.append(e,`eq.${s}`),this}neq(e,s){return this.url.searchParams.append(e,`neq.${s}`),this}gt(e,s){return this.url.searchParams.append(e,`gt.${s}`),this}gte(e,s){return this.url.searchParams.append(e,`gte.${s}`),this}lt(e,s){return this.url.searchParams.append(e,`lt.${s}`),this}lte(e,s){return this.url.searchParams.append(e,`lte.${s}`),this}like(e,s){return this.url.searchParams.append(e,`like.${s}`),this}likeAllOf(e,s){return this.url.searchParams.append(e,`like(all).{${s.join(",")}}`),this}likeAnyOf(e,s){return this.url.searchParams.append(e,`like(any).{${s.join(",")}}`),this}ilike(e,s){return this.url.searchParams.append(e,`ilike.${s}`),this}ilikeAllOf(e,s){return this.url.searchParams.append(e,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(e,s){return this.url.searchParams.append(e,`ilike(any).{${s.join(",")}}`),this}is(e,s){return this.url.searchParams.append(e,`is.${s}`),this}in(e,s){const r=Array.from(new Set(s)).map(n=>typeof n=="string"&&new RegExp("[,()]").test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,s){return typeof s=="string"?this.url.searchParams.append(e,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(e,`cs.{${s.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(s)}`),this}containedBy(e,s){return typeof s=="string"?this.url.searchParams.append(e,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(e,`cd.{${s.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(s)}`),this}rangeGt(e,s){return this.url.searchParams.append(e,`sr.${s}`),this}rangeGte(e,s){return this.url.searchParams.append(e,`nxl.${s}`),this}rangeLt(e,s){return this.url.searchParams.append(e,`sl.${s}`),this}rangeLte(e,s){return this.url.searchParams.append(e,`nxr.${s}`),this}rangeAdjacent(e,s){return this.url.searchParams.append(e,`adj.${s}`),this}overlaps(e,s){return typeof s=="string"?this.url.searchParams.append(e,`ov.${s}`):this.url.searchParams.append(e,`ov.{${s.join(",")}}`),this}textSearch(e,s,{config:r,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${s}`),this}match(e){return Object.entries(e).forEach(([s,r])=>{this.url.searchParams.append(s,`eq.${r}`)}),this}not(e,s,r){return this.url.searchParams.append(e,`not.${s}.${r}`),this}or(e,{foreignTable:s,referencedTable:r=s}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,s,r){return this.url.searchParams.append(e,`${s}.${r}`),this}};Ts.default=pf;var gf=Ue&&Ue.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(pr,"__esModule",{value:!0});const as=gf(Ts);let _f=class{constructor(e,{headers:s={},schema:r,fetch:n}){this.url=e,this.headers=s,this.schema=r,this.fetch=n}select(e,{head:s=!1,count:r}={}){const n=s?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new as.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:s,defaultToNull:r=!0}={}){const n="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),s&&i.push(`count=${s}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new as.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:s,ignoreDuplicates:r=!1,count:n,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(s!==void 0&&this.url.searchParams.set("on_conflict",s),this.headers.Prefer&&a.push(this.headers.Prefer),n&&a.push(`count=${n}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(l.length>0){const u=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new as.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:s}={}){const r="PATCH",n=[];return this.headers.Prefer&&n.push(this.headers.Prefer),s&&n.push(`count=${s}`),this.headers.Prefer=n.join(","),new as.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const s="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new as.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};pr.default=_f;var mr={},vr={};Object.defineProperty(vr,"__esModule",{value:!0});vr.version=void 0;vr.version="0.0.0-automated";Object.defineProperty(mr,"__esModule",{value:!0});mr.DEFAULT_HEADERS=void 0;const mf=vr;mr.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${mf.version}`};var Ua=Ue&&Ue.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Dn,"__esModule",{value:!0});const vf=Ua(pr),yf=Ua(Ts),bf=mr;let wf=class Da{constructor(e,{headers:s={},schema:r,fetch:n}={}){this.url=e,this.headers=Object.assign(Object.assign({},bf.DEFAULT_HEADERS),s),this.schemaName=r,this.fetch=n}from(e){const s=new URL(`${this.url}/${e}`);return new vf.default(s,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Da(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,s={},{head:r=!1,get:n=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let l;r||n?(o=r?"HEAD":"GET",Object.entries(s).filter(([c,h])=>h!==void 0).map(([c,h])=>[c,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([c,h])=>{a.searchParams.append(c,h)})):(o="POST",l=s);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new yf.default({method:o,url:a,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Dn.default=wf;var Cs=Ue&&Ue.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(je,"__esModule",{value:!0});je.PostgrestBuilder=je.PostgrestTransformBuilder=je.PostgrestFilterBuilder=je.PostgrestQueryBuilder=je.PostgrestClient=void 0;const Ma=Cs(Dn);je.PostgrestClient=Ma.default;const Na=Cs(pr);je.PostgrestQueryBuilder=Na.default;const Fa=Cs(Ts);je.PostgrestFilterBuilder=Fa.default;const Ba=Cs(gr);je.PostgrestTransformBuilder=Ba.default;const Ha=Cs(_r);je.PostgrestBuilder=Ha.default;var Ef=je.default={PostgrestClient:Ma.default,PostgrestQueryBuilder:Na.default,PostgrestFilterBuilder:Fa.default,PostgrestTransformBuilder:Ba.default,PostgrestBuilder:Ha.default};const{PostgrestClient:Sf,PostgrestQueryBuilder:yp,PostgrestFilterBuilder:bp,PostgrestTransformBuilder:wp,PostgrestBuilder:Ep}=Ef,kf="2.10.2",Pf={"X-Client-Info":`realtime-js/${kf}`},Of="1.0.0",qa=1e4,xf=1e3;var Jt;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Jt||(Jt={}));var xe;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(xe||(xe={}));var Ne;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ne||(Ne={}));var on;(function(t){t.websocket="websocket"})(on||(on={}));var Tt;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Tt||(Tt={}));class Rf{constructor(){this.HEADER_LENGTH=1}decode(e,s){return e.constructor===ArrayBuffer?s(this._binaryDecode(e)):s(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const s=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,s,r)}_decodeBroadcast(e,s,r){const n=s.getUint8(1),i=s.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+n));o=o+n;const l=r.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class Ka{constructor(e,s){this.callback=e,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var re;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(re||(re={}));const Wi=(t,e,s={})=>{var r;const n=(r=s.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=Tf(o,t,e,n),i),{})},Tf=(t,e,s,r)=>{const n=e.find(a=>a.name===t),i=n==null?void 0:n.type,o=s[t];return i&&!r.includes(i)?Va(i,o):an(o)},Va=(t,e)=>{if(t.charAt(0)==="_"){const s=t.slice(1,t.length);return jf(e,s)}switch(t){case re.bool:return Cf(e);case re.float4:case re.float8:case re.int2:case re.int4:case re.int8:case re.numeric:case re.oid:return Af(e);case re.json:case re.jsonb:return $f(e);case re.timestamp:return If(e);case re.abstime:case re.date:case re.daterange:case re.int4range:case re.int8range:case re.money:case re.reltime:case re.text:case re.time:case re.timestamptz:case re.timetz:case re.tsrange:case re.tstzrange:return an(e);default:return an(e)}},an=t=>t,Cf=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Af=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},$f=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},jf=(t,e)=>{if(typeof t!="string")return t;const s=t.length-1,r=t[s];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,s);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Va(e,a))}return t},If=t=>typeof t=="string"?t.replace(" ","T"):t,za=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class jr{constructor(e,s,r={},n=qa){this.channel=e,this.event=s,this.payload=r,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,s){var r;return this._hasReceived(e)&&s((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:s}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(s))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Gi;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Gi||(Gi={}));class ms{constructor(e,s){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ms.syncState(this.state,n,i,o),this.pendingDiffs.forEach(l=>{this.state=ms.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=ms.syncDiff(this.state,n,i,o),a())}),this.onJoin((n,i,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:i,newPresences:o})}),this.onLeave((n,i,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,s,r,n){const i=this.cloneDeep(e),o=this.transformState(s),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const h=i[u];if(h){const p=c.map(R=>R.presence_ref),g=h.map(R=>R.presence_ref),w=c.filter(R=>g.indexOf(R.presence_ref)<0),E=h.filter(R=>p.indexOf(R.presence_ref)<0);w.length>0&&(a[u]=w),E.length>0&&(l[u]=E)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},r,n)}static syncDiff(e,s,r,n){const{joins:i,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return r||(r=()=>{}),n||(n=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),c.length>0){const h=e[a].map(g=>g.presence_ref),p=c.filter(g=>h.indexOf(g.presence_ref)<0);e[a].unshift(...p)}r(a,c,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const c=l.map(h=>h.presence_ref);u=u.filter(h=>c.indexOf(h.presence_ref)<0),e[a]=u,n(a,u,l),u.length===0&&delete e[a]}),e}static map(e,s){return Object.getOwnPropertyNames(e).map(r=>s(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((s,r)=>{const n=e[r];return"metas"in n?s[r]=n.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):s[r]=n,s},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ji;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Ji||(Ji={}));var Qi;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes"})(Qi||(Qi={}));var Xi;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Xi||(Xi={}));class Nn{constructor(e,s={config:{}},r){this.topic=e,this.params=s,this.socket=r,this.bindings={},this.state=xe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new jr(this,Ne.join,this.params,this.timeout),this.rejoinTimer=new Ka(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=xe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=xe.closed,this.socket._remove(this)}),this._onError(n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=xe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=xe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ne.reply,{},(n,i)=>{this._trigger(this._replyEventName(i),n)}),this.presence=new ms(this),this.broadcastEndpointURL=za(this.socket.endPoint)+"/api/broadcast"}subscribe(e,s=this.timeout){var r,n;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(c=>e&&e("CHANNEL_ERROR",c)),this._onClose(()=>e&&e("CLOSED"));const l={},u={broadcast:i,presence:o,postgres_changes:(n=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(c=>c.filter))!==null&&n!==void 0?n:[],private:a};this.socket.accessToken&&(l.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",({postgres_changes:c})=>{var h;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),c===void 0){e&&e("SUBSCRIBED");return}else{const p=this.bindings.postgres_changes,g=(h=p==null?void 0:p.length)!==null&&h!==void 0?h:0,w=[];for(let E=0;E<g;E++){const R=p[E],{filter:{event:j,schema:$,table:T,filter:M}}=R,N=c&&c[E];if(N&&N.event===j&&N.schema===$&&N.table===T&&N.filter===M)w.push(Object.assign(Object.assign({},R),{id:N.id}));else{this.unsubscribe(),e&&e("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,e&&e("SUBSCRIBED");return}}).receive("error",c=>{e&&e("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{e&&e("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(e,s={}){return await this.send({type:"presence",event:"track",payload:e},s.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,s,r){return this._on(e,s,r)}async send(e,s={}){var r,n;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,a={method:"POST",headers:{Authorization:this.socket.accessToken?`Bearer ${this.socket.accessToken}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o}]})};try{const l=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(r=s.timeout)!==null&&r!==void 0?r:this.timeout);return await((n=l.body)===null||n===void 0?void 0:n.cancel()),l.ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(e.type,e,s.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=xe.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ne.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const n=new jr(this,Ne.leave,{},e);n.receive("ok",()=>{s(),r("ok")}).receive("timeout",()=>{s(),r("timed out")}).receive("error",()=>{r("error")}),n.send(),this._canPush()||n.trigger("ok",{})})}async _fetchWithTimeout(e,s,r){const n=new AbortController,i=setTimeout(()=>n.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},s),{signal:n.signal}));return clearTimeout(i),o}_push(e,s,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new jr(this,e,s,r);return this._canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}_onMessage(e,s,r){return s}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,s,r){var n,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=Ne;if(r&&[a,l,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let p=this._onMessage(o,s,r);if(s&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(g=>{var w,E,R;return((w=g.filter)===null||w===void 0?void 0:w.event)==="*"||((R=(E=g.filter)===null||E===void 0?void 0:E.event)===null||R===void 0?void 0:R.toLocaleLowerCase())===o}).map(g=>g.callback(p,r)):(i=this.bindings[o])===null||i===void 0||i.filter(g=>{var w,E,R,j,$,T;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const M=g.id,N=(w=g.filter)===null||w===void 0?void 0:w.event;return M&&((E=s.ids)===null||E===void 0?void 0:E.includes(M))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((R=s.data)===null||R===void 0?void 0:R.type.toLocaleLowerCase()))}else{const M=($=(j=g==null?void 0:g.filter)===null||j===void 0?void 0:j.event)===null||$===void 0?void 0:$.toLocaleLowerCase();return M==="*"||M===((T=s==null?void 0:s.event)===null||T===void 0?void 0:T.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof p=="object"&&"ids"in p){const w=p.data,{schema:E,table:R,commit_timestamp:j,type:$,errors:T}=w;p=Object.assign(Object.assign({},{schema:E,table:R,commit_timestamp:j,eventType:$,new:{},old:{},errors:T}),this._getPayloadRecords(w))}g.callback(p,r)})}_isClosed(){return this.state===xe.closed}_isJoined(){return this.state===xe.joined}_isJoining(){return this.state===xe.joining}_isLeaving(){return this.state===xe.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,s,r){const n=e.toLocaleLowerCase(),i={type:n,filter:s,callback:r};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(e,s){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(n=>{var i;return!(((i=n.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Nn.isEqual(n.filter,s))}),this}static isEqual(e,s){if(Object.keys(e).length!==Object.keys(s).length)return!1;for(const r in e)if(e[r]!==s[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ne.close,{},e)}_onError(e){this._on(Ne.error,{},s=>e(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=xe.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const s={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(s.new=Wi(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(s.old=Wi(e.columns,e.old_record)),s}}const Lf=()=>{},Uf=typeof WebSocket<"u";class Df{constructor(e,s){var r;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Pf,this.params={},this.timeout=qa,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Lf,this.conn=null,this.sendBuffer=[],this.serializer=new Rf,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>Zt(async()=>{const{default:l}=await Promise.resolve().then(()=>ss);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${on.websocket}`,this.httpEndpoint=za(e),s!=null&&s.transport?this.transport=s.transport:this.transport=null,s!=null&&s.params&&(this.params=s.params),s!=null&&s.headers&&(this.headers=Object.assign(Object.assign({},this.headers),s.headers)),s!=null&&s.timeout&&(this.timeout=s.timeout),s!=null&&s.logger&&(this.logger=s.logger),s!=null&&s.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const n=(r=s==null?void 0:s.params)===null||r===void 0?void 0:r.apikey;n&&(this.accessToken=n,this.apiKey=n),this.reconnectAfterMs=s!=null&&s.reconnectAfterMs?s.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=s!=null&&s.encode?s.encode:(i,o)=>o(JSON.stringify(i)),this.decode=s!=null&&s.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Ka(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s==null?void 0:s.fetch)}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(Uf){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new Mf(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),Zt(async()=>{const{default:e}=await import("./browser-CsrDTcrp.js").then(s=>s.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(e,s){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,s??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const s=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const e=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.disconnect(),e}log(e,s,r){this.logger(e,s,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Jt.connecting:return Tt.Connecting;case Jt.open:return Tt.Open;case Jt.closing:return Tt.Closing;default:return Tt.Closed}}isConnected(){return this.connectionState()===Tt.Open}channel(e,s={config:{}}){const r=new Nn(`realtime:${e}`,s,this);return this.channels.push(r),r}push(e){const{topic:s,event:r,payload:n,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${s} ${r} (${i})`,n),this.isConnected()?o():this.sendBuffer.push(o)}setAuth(e){this.accessToken=e,this.channels.forEach(s=>{e&&s.updateJoinPayload({access_token:e}),s.joinedOnce&&s._isJoined()&&s._push(Ne.access_token,{access_token:e})})}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let s=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${e}"`),s.unsubscribe())}_remove(e){this.channels=this.channels.filter(s=>s._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Of}))}_onConnMessage(e){this.decode(e.data,s=>{let{topic:r,event:n,payload:i,ref:o}=s;(o&&o===this.pendingHeartbeatRef||n===(i==null?void 0:i.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${n} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(n,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(s))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ne.error))}_appendParams(e,s){if(Object.keys(s).length===0)return e;const r=e.match(/\?/)?"&":"?",n=new URLSearchParams(s);return`${e}${r}${n}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(xf,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}}class Mf{constructor(e,s,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Jt.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class Fn extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function _e(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Nf extends Fn{constructor(e,s){super(e),this.name="StorageApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Yi extends Fn{constructor(e,s){super(e),this.name="StorageUnknownError",this.originalError=s}}var Ff=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Wa=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Zt(async()=>{const{default:r}=await Promise.resolve().then(()=>ss);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)},Bf=()=>Ff(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Zt(()=>Promise.resolve().then(()=>ss),void 0)).Response:Response});var rs=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Ir=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Hf=(t,e)=>rs(void 0,void 0,void 0,function*(){const s=yield Bf();t instanceof s?t.json().then(r=>{e(new Nf(Ir(r),t.status||500))}).catch(r=>{e(new Yi(Ir(r),r))}):e(new Yi(Ir(t),t))}),qf=(t,e,s,r)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n.body=JSON.stringify(r),Object.assign(Object.assign({},n),s))};function yr(t,e,s,r,n,i){return rs(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(s,qf(e,r,n,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Hf(l,a))})})}function ln(t,e,s,r){return rs(this,void 0,void 0,function*(){return yr(t,"GET",e,s,r)})}function ft(t,e,s,r,n){return rs(this,void 0,void 0,function*(){return yr(t,"POST",e,r,n,s)})}function Kf(t,e,s,r,n){return rs(this,void 0,void 0,function*(){return yr(t,"PUT",e,r,n,s)})}function Ga(t,e,s,r,n){return rs(this,void 0,void 0,function*(){return yr(t,"DELETE",e,r,n,s)})}var $e=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Vf={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Zi={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class zf{constructor(e,s={},r,n){this.url=e,this.headers=s,this.bucketId=r,this.fetch=Wa(n)}uploadOrUpdate(e,s,r,n){return $e(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Zi),n),a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl)):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType);const l=this._removeEmptyFolders(s),u=this._getFinalPath(l),c=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield c.json();return c.ok?{data:{path:l,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(_e(i))return{data:null,error:i};throw i}})}upload(e,s,r){return $e(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,s,r)})}uploadToSignedUrl(e,s,r,n){return $e(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",s);try{let l;const u=Object.assign({upsert:Zi.upsert},n),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:c}),p=yield h.json();return h.ok?{data:{path:i,fullPath:p.Key},error:null}:{data:null,error:p}}catch(l){if(_e(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,s){return $e(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const n=Object.assign({},this.headers);s!=null&&s.upsert&&(n["x-upsert"]="true");const i=yield ft(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:n}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Fn("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(_e(r))return{data:null,error:r};throw r}})}update(e,s,r){return $e(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,s,r)})}move(e,s,r){return $e(this,void 0,void 0,function*(){try{return{data:yield ft(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}})}copy(e,s,r){return $e(this,void 0,void 0,function*(){try{return{data:{path:(yield ft(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}})}createSignedUrl(e,s,r){return $e(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),i=yield ft(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:s},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}})}createSignedUrls(e,s,r){return $e(this,void 0,void 0,function*(){try{const n=yield ft(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:n.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}})}download(e,s){return $e(this,void 0,void 0,function*(){const n=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield ln(this.fetch,`${this.url}/${n}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(_e(a))return{data:null,error:a};throw a}})}getPublicUrl(e,s){const r=this._getFinalPath(e),n=[],i=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";i!==""&&n.push(i);const a=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});l!==""&&n.push(l);let u=n.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(e){return $e(this,void 0,void 0,function*(){try{return{data:yield Ga(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(s){if(_e(s))return{data:null,error:s};throw s}})}list(e,s,r){return $e(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},Vf),s),{prefix:e||""});return{data:yield ft(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}})}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const s=[];return e.width&&s.push(`width=${e.width}`),e.height&&s.push(`height=${e.height}`),e.resize&&s.push(`resize=${e.resize}`),e.format&&s.push(`format=${e.format}`),e.quality&&s.push(`quality=${e.quality}`),s.join("&")}}const Wf="2.6.0",Gf={"X-Client-Info":`storage-js/${Wf}`};var Ft=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class Jf{constructor(e,s={},r){this.url=e,this.headers=Object.assign(Object.assign({},Gf),s),this.fetch=Wa(r)}listBuckets(){return Ft(this,void 0,void 0,function*(){try{return{data:yield ln(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(_e(e))return{data:null,error:e};throw e}})}getBucket(e){return Ft(this,void 0,void 0,function*(){try{return{data:yield ln(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(s){if(_e(s))return{data:null,error:s};throw s}})}createBucket(e,s={public:!1}){return Ft(this,void 0,void 0,function*(){try{return{data:yield ft(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(_e(r))return{data:null,error:r};throw r}})}updateBucket(e,s){return Ft(this,void 0,void 0,function*(){try{return{data:yield Kf(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(_e(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Ft(this,void 0,void 0,function*(){try{return{data:yield ft(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(_e(s))return{data:null,error:s};throw s}})}deleteBucket(e){return Ft(this,void 0,void 0,function*(){try{return{data:yield Ga(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(s){if(_e(s))return{data:null,error:s};throw s}})}}class Qf extends Jf{constructor(e,s={},r){super(e,s,r)}from(e){return new zf(this.url,this.headers,e,this.fetch)}}const Xf="2.44.4";let us="";typeof Deno<"u"?us="deno":typeof document<"u"?us="web":typeof navigator<"u"&&navigator.product==="ReactNative"?us="react-native":us="node";const Yf={"X-Client-Info":`supabase-js-${us}/${Xf}`},Zf={headers:Yf},ed={schema:"public"},td={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},sd={};var rd=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const nd=t=>{let e;return t?e=t:typeof fetch>"u"?e=ja:e=fetch,(...s)=>e(...s)},id=()=>typeof Headers>"u"?Ia:Headers,od=(t,e,s)=>{const r=nd(s),n=id();return(i,o)=>rd(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let u=new n(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};function ad(t){return t.replace(/\/$/,"")}function ld(t,e){const{db:s,auth:r,realtime:n,global:i}=t,{db:o,auth:a,realtime:l,global:u}=e;return{db:Object.assign(Object.assign({},o),s),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),n),global:Object.assign(Object.assign({},u),i)}}const Ja="2.64.4",cd="http://localhost:9999",ud="supabase.auth.token",hd={"X-Client-Info":`gotrue-js/${Ja}`},eo=10,cn="X-Supabase-Api-Version",Qa={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function fd(t){return Math.round(Date.now()/1e3)+t}function dd(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Me=()=>typeof document<"u",Pt={tested:!1,writable:!1},vs=()=>{if(!Me())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Pt.tested)return Pt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Pt.tested=!0,Pt.writable=!0}catch{Pt.tested=!0,Pt.writable=!1}return Pt.writable};function Lr(t){const e={},s=new URL(t);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((n,i)=>{e[i]=n})}catch{}return s.searchParams.forEach((r,n)=>{e[n]=r}),e}const Xa=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Zt(async()=>{const{default:r}=await Promise.resolve().then(()=>ss);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)},pd=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Ya=async(t,e,s)=>{await t.setItem(e,JSON.stringify(s))},Ms=async(t,e)=>{const s=await t.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch{return s}},Ur=async(t,e)=>{await t.removeItem(e)};function gd(t){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let s="",r,n,i,o,a,l,u,c=0;for(t=t.replace("-","+").replace("_","/");c<t.length;)o=e.indexOf(t.charAt(c++)),a=e.indexOf(t.charAt(c++)),l=e.indexOf(t.charAt(c++)),u=e.indexOf(t.charAt(c++)),r=o<<2|a>>4,n=(a&15)<<4|l>>2,i=(l&3)<<6|u,s=s+String.fromCharCode(r),l!=64&&n!=0&&(s=s+String.fromCharCode(n)),u!=64&&i!=0&&(s=s+String.fromCharCode(i));return s}class br{constructor(){this.promise=new br.promiseConstructor((e,s)=>{this.resolve=e,this.reject=s})}}br.promiseConstructor=Promise;function to(t){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,s=t.split(".");if(s.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(s[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=s[1];return JSON.parse(gd(r))}async function _d(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function md(t,e){return new Promise((r,n)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){n(o);return}}})()})}function vd(t){return("0"+t.toString(16)).substr(-2)}function yd(){const e=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=s.length;let n="";for(let i=0;i<56;i++)n+=s.charAt(Math.floor(Math.random()*r));return n}return crypto.getRandomValues(e),Array.from(e,vd).join("")}async function bd(t){const s=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",s),n=new Uint8Array(r);return Array.from(n).map(i=>String.fromCharCode(i)).join("")}function wd(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ed(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const s=await bd(t);return wd(s)}async function Bt(t,e,s=!1){const r=yd();let n=r;s&&(n+="/PASSWORD_RECOVERY"),await Ya(t,`${e}-code-verifier`,n);const i=await Ed(r);return[i,r===i?"plain":"s256"]}const Sd=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function kd(t){const e=t.headers.get(cn);if(!e||!e.match(Sd))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class Bn extends Error{constructor(e,s,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=r}}function K(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Pd extends Bn{constructor(e,s,r){super(e,s,r),this.name="AuthApiError",this.status=s,this.code=r}}function Od(t){return K(t)&&t.name==="AuthApiError"}class Za extends Bn{constructor(e,s){super(e),this.name="AuthUnknownError",this.originalError=s}}class Lt extends Bn{constructor(e,s,r,n){super(e,r,n),this.name=s,this.status=r}}class Ot extends Lt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class Dr extends Lt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ns extends Lt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Fs extends Lt{constructor(e,s=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class so extends Lt{constructor(e,s=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class un extends Lt{constructor(e,s){super(e,"AuthRetryableFetchError",s,void 0)}}function Mr(t){return K(t)&&t.name==="AuthRetryableFetchError"}class ro extends Lt{constructor(e,s,r){super(e,"AuthWeakPasswordError",s,"weak_password"),this.reasons=r}}var xd=function(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};const xt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Rd=[502,503,504];async function no(t){var e;if(!pd(t))throw new un(xt(t),0);if(Rd.includes(t.status))throw new un(xt(t),t.status);let s;try{s=await t.json()}catch(i){throw new Za(xt(i),i)}let r;const n=kd(t);if(n&&n.getTime()>=Qa["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?r=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(r=s.error_code),r){if(r==="weak_password")throw new ro(xt(s),t.status,((e=s.weak_password)===null||e===void 0?void 0:e.reasons)||[])}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new ro(xt(s),t.status,s.weak_password.reasons);throw new Pd(xt(s),t.status||500,r)}const Td=(t,e,s,r)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),n.body=JSON.stringify(r),Object.assign(Object.assign({},n),s))};async function z(t,e,s,r){var n;const i=Object.assign({},r==null?void 0:r.headers);i[cn]||(i[cn]=Qa["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(n=r==null?void 0:r.query)!==null&&n!==void 0?n:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Cd(t,e,s+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function Cd(t,e,s,r,n,i){const o=Td(e,r,n,i);let a;try{a=await t(s,Object.assign({},o))}catch(l){throw console.error(l),new un(xt(l),0)}if(a.ok||await no(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await no(l)}}function lt(t){var e;let s=null;Id(t)&&(s=Object.assign({},t),t.expires_at||(s.expires_at=fd(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:s,user:r},error:null}}function io(t){const e=lt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((s,r)=>s&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function pt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Ad(t){return{data:t,error:null}}function $d(t){const{action_link:e,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i}=t,o=xd(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function jd(t){return t}function Id(t){return t.access_token&&t.refresh_token&&t.expires_in}var Ld=function(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};class Ud{constructor({url:e="",headers:s={},fetch:r}){this.url=e,this.headers=s,this.fetch=Xa(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,s="global"){try{return await z(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(K(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,s={}){try{return await z(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:pt})}catch(r){if(K(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:s}=e,r=Ld(e,["options"]),n=Object.assign(Object.assign({},r),s);return"newEmail"in r&&(n.new_email=r==null?void 0:r.newEmail,delete n.newEmail),await z(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:$d,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(K(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(e){try{return await z(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:pt})}catch(s){if(K(s))return{data:{user:null},error:s};throw s}}async listUsers(e){var s,r,n,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await z(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=e==null?void 0:e.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(i=(n=e==null?void 0:e.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:jd});if(c.error)throw c.error;const h=await c.json(),p=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(w=>{const E=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),R=JSON.parse(w.split(";")[1].split("=")[1]);u[`${R}Page`]=E}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(K(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){try{return await z(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:pt})}catch(s){if(K(s))return{data:{user:null},error:s};throw s}}async updateUserById(e,s){try{return await z(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:s,headers:this.headers,xform:pt})}catch(r){if(K(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,s=!1){try{return await z(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:s},xform:pt})}catch(r){if(K(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:s,error:r}=await z(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:s,error:r}}catch(s){if(K(s))return{data:null,error:s};throw s}}async _deleteFactor(e){try{return{data:await z(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(s){if(K(s))return{data:null,error:s};throw s}}}const Dd={getItem:t=>vs()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{vs()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{vs()&&globalThis.localStorage.removeItem(t)}};function oo(t={}){return{getItem:e=>t[e]||null,setItem:(e,s)=>{t[e]=s},removeItem:e=>{delete t[e]}}}function Md(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ht={debug:!!(globalThis&&vs()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class el extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Nd extends el{}async function Fd(t,e,s){Ht.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Ht.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async n=>{if(n){Ht.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,n.name);try{return await s()}finally{Ht.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,n.name)}}else{if(e===0)throw Ht.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Nd(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Ht.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}})}Md();const Bd={url:cd,storageKey:ud,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:hd,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},ls=30*1e3,ao=3;async function lo(t,e,s){return await s()}class Os{constructor(e){var s,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Os.nextInstanceID,Os.nextInstanceID+=1,this.instanceID>0&&Me()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},Bd),e);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new Ud({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=Xa(n.fetch),this.lock=n.lock||lo,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:Me()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=Fd:this.lock=lo,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?n.storage?this.storage=n.storage:vs()?this.storage=Dd:(this.memoryStorage={},this.storage=oo(this.memoryStorage)):(this.memoryStorage={},this.storage=oo(this.memoryStorage)),Me()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Ja}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{const e=Me()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",e),e||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:s,error:r}=await this._getSessionFromURL(e);if(r)return this._debug("#_initialize()","error detecting session from URL",r),(r==null?void 0:r.message)==="Identity is already linked"||(r==null?void 0:r.message)==="Identity is already linked to another user"?{error:r}:(await this._removeSession(),{error:r});const{session:n,redirectType:i}=s;return this._debug("#_initialize()","detected session in URL",n,"redirect type",i),await this._saveSession(n),setTimeout(async()=>{i==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",n):await this._notifyAllSubscribers("SIGNED_IN",n)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){return K(e)?{error:e}:{error:new Za("Unexpected error during initialization",e)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var s,r,n;try{const i=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.captchaToken}},xform:lt}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(K(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var s,r,n;try{let i;if("email"in e){const{email:c,password:h,options:p}=e;let g=null,w=null;this.flowType==="pkce"&&([g,w]=await Bt(this.storage,this.storageKey)),i=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:c,password:h,data:(s=p==null?void 0:p.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:g,code_challenge_method:w},xform:lt})}else if("phone"in e){const{phone:c,password:h,options:p}=e;i=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:h,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},channel:(n=p==null?void 0:p.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:lt})}else throw new Ns("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(K(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let s;if("email"in e){const{email:i,password:o,options:a}=e;s=await z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:io})}else if("phone"in e){const{phone:i,password:o,options:a}=e;s=await z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:io})}else throw new Ns("You must provide either an email or phone number and a password");const{data:r,error:n}=s;return n?{data:{user:null,session:null},error:n}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Dr}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:n})}catch(s){if(K(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(e){var s,r,n,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(n=e.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const s=await Ms(this.storage,`${this.storageKey}-code-verifier`),[r,n]=(s??"").split("/"),{data:i,error:o}=await z(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:lt});return await Ur(this.storage,`${this.storageKey}-code-verifier`),o?{data:{user:null,session:null,redirectType:null},error:o}:!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Dr}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:n??null}),error:o})}async signInWithIdToken(e){try{const{options:s,provider:r,token:n,access_token:i,nonce:o}=e,a=await z(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:n,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:lt}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Dr}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(s){if(K(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(e){var s,r,n,i,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Bt(this.storage,this.storageKey));const{error:h}=await z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:c}=await z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new Ns("You must provide either an email or phone number.")}catch(a){if(K(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var s,r;try{let n,i;"options"in e&&(n=(s=e.options)===null||s===void 0?void 0:s.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await z(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:lt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(n){if(K(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(e){var s,r,n;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Bt(this.storage,this.storageKey)),await z(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(s=e.options)===null||s===void 0?void 0:s.redirectTo)!==null&&r!==void 0?r:void 0}),!((n=e==null?void 0:e.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Ad})}catch(i){if(K(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:s},error:r}=e;if(r)throw r;if(!s)throw new Ot;const{error:n}=await z(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:n}})}catch(e){if(K(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const s=`${this.url}/resend`;if("email"in e){const{email:r,type:n,options:i}=e,{error:o}=await z(this.fetch,"POST",s,{headers:this.headers,body:{email:r,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:n,options:i}=e,{data:o,error:a}=await z(this.fetch,"POST",s,{headers:this.headers,body:{phone:r,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Ns("You must provide either an email or phone number and a type")}catch(s){if(K(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(e,s){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await r,await s()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=s();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await e(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const s=await Ms(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?e=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and many not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:e},error:null}}const{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:pt}):await this._useSession(async s=>{var r,n,i;const{data:o,error:a}=s;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ot}:await z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0,xform:pt})})}catch(s){if(K(s))return{data:{user:null},error:s};throw s}}async updateUser(e,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,s))}async _updateUser(e,s={}){try{return await this._useSession(async r=>{const{data:n,error:i}=r;if(i)throw i;if(!n.session)throw new Ot;const o=n.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Bt(this.storage,this.storageKey));const{data:u,error:c}=await z(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:pt});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(K(r))return{data:{user:null},error:r};throw r}}_decodeJWT(e){return to(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ot;const s=Date.now()/1e3;let r=s,n=!0,i=null;const o=to(e.access_token);if(o.exp&&(r=o.exp,n=r<=s),n){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-s,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(s){if(K(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async s=>{var r;if(!e){const{data:o,error:a}=s;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Ot;const{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(K(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(e){try{if(!Me())throw new Fs("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new Fs("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!e)throw new so("Not a valid PKCE flow url.");const s=Lr(window.location.href);if(e){if(!s.code)throw new so("No code detected.");const{data:$,error:T}=await this._exchangeCodeForSession(s.code);if(T)throw T;const M=new URL(window.location.href);return M.searchParams.delete("code"),window.history.replaceState(window.history.state,"",M.toString()),{data:{session:$.session,redirectType:null},error:null}}if(s.error||s.error_description||s.error_code)throw new Fs(s.error_description||"Error in URL with unspecified error_description",{error:s.error||"unspecified_error",code:s.error_code||"unspecified_code"});const{provider_token:r,provider_refresh_token:n,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=s;if(!i||!a||!o||!u)throw new Fs("No session defined in URL");const c=Math.round(Date.now()/1e3),h=parseInt(a);let p=c+h;l&&(p=parseInt(l));const g=p-c;g*1e3<=ls&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${h}s`);const w=p-h;c-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,p,c):c-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clok for skew",w,p,c);const{data:E,error:R}=await this._getUser(i);if(R)throw R;const j={provider_token:r,provider_refresh_token:n,access_token:i,expires_in:h,expires_at:p,refresh_token:o,token_type:u,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:j,redirectType:s.type},error:null}}catch(s){if(K(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantFlow(){const e=Lr(window.location.href);return!!(Me()&&(e.access_token||e.error_description))}async _isPKCEFlow(){const e=Lr(window.location.href),s=await Ms(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&s)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{error:i};const o=(r=n.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(Od(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Ur(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}})}onAuthStateChange(e){const s=dd(),r={id:s,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async s=>{var r,n;try{const{data:{session:i},error:o}=s;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,s={}){let r=null,n=null;this.flowType==="pkce"&&([r,n]=await Bt(this.storage,this.storageKey,!0));try{return await z(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:n,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(i){if(K(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:s,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=s.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(s){if(K(s))return{data:null,error:s};throw s}}async linkIdentity(e){var s;try{const{data:r,error:n}=await this._useSession(async i=>{var o,a,l,u,c;const{data:h,error:p}=i;if(p)throw p;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await z(this.fetch,"GET",g,{headers:this.headers,jwt:(c=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(n)throw n;return Me()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(K(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)throw o;return await z(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(n=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:void 0})})}catch(s){if(K(s))return{data:null,error:s};throw s}}async _refreshAccessToken(e){const s=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{const r=Date.now();return await md(async n=>(n>0&&await _d(200*Math.pow(2,n-1)),this._debug(s,"refreshing attempt",n),await z(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:lt})),(n,i)=>{const o=200*Math.pow(2,n);return i&&Mr(i)&&Date.now()+o-r<ls})}catch(r){if(this._debug(s,"error",r),K(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(s,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,s){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",s,"url",r),Me()&&!s.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const r=await Ms(this.storage,this.storageKey);if(this._debug(s,"session from storage",r),!this._isValidSession(r)){this._debug(s,"session is not valid"),r!==null&&await this._removeSession();return}const n=Math.round(Date.now()/1e3),i=((e=r.expires_at)!==null&&e!==void 0?e:1/0)<n+eo;if(this._debug(s,`session has${i?"":" not"} expired with margin of ${eo}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),Mr(o)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(s,"error",r),console.error(r);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var s,r;if(!e)throw new Ot;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new br;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Ot;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(n,"error",i),K(i)){const o={session:null,error:i};return Mr(i)||(await this._removeSession(),await this._notifyAllSubscribers("SIGNED_OUT",null)),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,s,r=!0){const n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",s,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:s});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,s)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Ya(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Ur(this.storage,this.storageKey)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Me()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ls);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async s=>{const{data:{session:r}}=s;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((r.expires_at*1e3-e)/ls);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${ls}ms, refresh threshold is ${ao} ticks`),n<=ao&&await this._callRefreshToken(r.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof el)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Me()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const s=`#_onVisibilityChanged(${e})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,s,r){const n=[`provider=${encodeURIComponent(s)}`];if(r!=null&&r.redirectTo&&n.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&n.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Bt(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);n.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&n.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${n.join("&")}`}async _unenroll(e){try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;return i?{data:null,error:i}:await z(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(K(s))return{data:null,error:s};throw s}}async _enroll(e){try{return await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)return{data:null,error:o};const{data:a,error:l}=await z(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:e.friendlyName,factor_type:e.factorType,issuer:e.issuer},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(!((n=a==null?void 0:a.totp)===null||n===void 0)&&n.qr_code&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),{data:a,error:null})})}catch(s){if(K(s))return{data:null,error:s};throw s}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{data:null,error:i};const{data:o,error:a}=await z(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(s){if(K(s))return{data:null,error:s};throw s}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;return i?{data:null,error:i}:await z(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(K(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(e){const{data:s,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:s.id,code:e.code})}async _listFactors(){const{data:{user:e},error:s}=await this.getUser();if(s)return{data:null,error:s};const r=(e==null?void 0:e.factors)||[],n=r.filter(i=>i.factor_type==="totp"&&i.status==="verified");return{data:{all:r,totp:n},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var s,r;const{data:{session:n},error:i}=e;if(i)return{data:null,error:i};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(n.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(s=n.user.factors)===null||s===void 0?void 0:s.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}}Os.nextInstanceID=0;const Hd=Os;class qd extends Hd{constructor(e){super(e)}}var Kd=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class Vd{constructor(e,s,r){var n,i,o;if(this.supabaseUrl=e,this.supabaseKey=s,!e)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const a=ad(e);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:ed,realtime:sd,auth:Object.assign(Object.assign({},td),{storageKey:l}),global:Zf},c=ld(r??{},u);this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=od(s,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},c.realtime)),this.rest=new Sf(`${a}/rest/v1`,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new Xh(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Qf(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,s={},r={}){return this.rest.rpc(e,s,r)}channel(e,s={config:{}}){return this.realtime.channel(e,s)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,s;return Kd(this,void 0,void 0,function*(){const{data:r}=yield this.auth.getSession();return(s=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:n,storageKey:i,flowType:o,debug:a},l,u){var c;const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new qd({url:this.authUrl,headers:Object.assign(Object.assign({},h),l),storageKey:i,autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:n,flowType:o,debug:a,fetch:u,hasCustomAuthorizationHeader:(c="Authorization"in this.headers)!==null&&c!==void 0?c:!1})}_initRealtimeClient(e){return new Df(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,r)=>{this._handleTokenChanged(s,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,s,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.realtime.setAuth(r??null),this.changedAccessToken=r):e==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const zd=(t,e,s)=>new Vd(t,e,s),hn=zd("https://ibickrqswjnujcybubax.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImliaWNrcnFzd2pudWpjeWJ1YmF4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MjEyNjgxMzUsImV4cCI6MjAzNjg0NDEzNX0.ns4RDor3iEJhrtW6AK_9NtkkkI3aeDuebsjAlUMurJs"),Zs=Uu("keys",()=>{const t=new $a,e=Le(null),s=()=>(e.value||(e.value=localStorage.getItem("api_key")),e.value),r=i=>{e.value=i,localStorage.setItem("api_key",i)},n=Te(async()=>{const i=s();return i?await t.checkKeyValidity(i)==="success":!1});return{getKey:s,setKey:r,activated:n}}),Wd={key:0,class:"container-card p-[2vh] flex flex-wrap"},Gd=["onClick"],Jd=["src","alt"],Qd={class:"mb-1 text-xl font-medium text-gray-900 dark:text-white"},Xd={key:1,class:"flex items-center flex-col"},Yd=["src"],Zd={__name:"MenuView",setup(t){const e=Le([]),s=Le(null);jt(s,async()=>{const i=Zs().getKey();if(s.value===null){await hn.from("poolx").insert([{key:i,url:"stop"}]);return}i?await hn.from("poolx").insert([{key:i,url:e.value[s.value].video_url}]):Ys().push("/login")});const r=async()=>{const n=new $a,o=Zs().getKey();o?(console.log(o),e.value=await(await n.getIcons(o)).data[0].collection,console.log(e.value)):Ys().push("/login")};return Cn(async()=>{await r()}),(n,i)=>(Be(),Xe(Fe,null,[s.value==null&&s.value!==0?(Be(),Xe("div",Wd,[(Be(!0),Xe(Fe,null,gc(e.value,(o,a)=>(Be(),Xe("div",{key:o.id,class:"item w-1/3"},[ve("div",{class:"w-[70%] flex flex-col items-center pb-10",onClick:l=>s.value=a},[ve("img",{class:"w-40 h-30 mb-3 rounded-full shadow-lg",src:o.icon_url,alt:`Image ${o.id}`},null,8,Jd),ve("h5",Qd,vn(o.title),1)],8,Gd)]))),128))])):Xr("",!0),s.value!==null?(Be(),Xe("div",Xd,[ve("img",{class:"image",src:e.value[s.value].icon_url},null,8,Yd),ve("button",{class:"bg-white hover:bg-gray-100 text-gray-800 font-semibold py-2 px-4 border border-gray-400 rounded shadow",onClick:i[0]||(i[0]=o=>s.value=null)}," Стоп ")])):Xr("",!0)],64))}},ep=In(Zd,[["__scopeId","data-v-33b8a14c"]]),tp={class:"max-w-sm mx-auto pt-[10%]",id:"keyForm"},sp=ve("label",{for:"key",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Ключ активации",-1),rp={class:"relative"},np={key:0,class:"p-4 mb-4 mt-4 text-sm text-red-800 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400",role:"alert"},ip=ve("p",{id:"helper-text-explanation",class:"mt-2 text-sm text-gray-500 dark:text-gray-400"},[Qr("Для получения ключа продукта обратитесь к нашим "),ve("a",{href:"#",class:"font-medium text-blue-600 hover:underline dark:text-blue-500"},"администраторам"),Qr(".")],-1),op={__name:"LoginView",setup(t){const e=Ys(),s=Le(""),r=Le(""),n=Le(!1);jt(s,(o,a)=>{if(n.value){n.value=!1;return}if(o.length>4&&o[3]!=="-"){s.value=s.value.slice(0,3)+"-"+s.value.slice(3,s.value.length),n.value=!0;return}else if(a.length===5&&o.length===4){s.value=s.value.slice(0,3),n.value=!0;return}else if(o.length>8&&o[7]!=="-"){s.value=s.value.slice(0,7)+"-"+s.value.slice(7,s.value.length),n.value=!0;return}else if(a.length===9&&o.length===8){s.value=s.value.slice(0,7),n.value=!0;return}else s.value.length===3||s.value.length===7?(n.value=!0,s.value+="-"):s.value.length===11&&(n.value=!0,s.value=a);if(s.value.length>10&&(n.value=!0,s.value=s.value.slice(0,10)),/[a-zа-я]/.test(s.value)){s.value=s.value.toLocaleUpperCase(),n.value=!0;return}});const i=async()=>{const o=Zs();o.setKey(s.value),await o.activated?e.push("/target"):r.value="Невалидный ключ активации!"};return(o,a)=>(Be(),Xe("div",tp,[sp,ve("div",rp,[pc(ve("input",{type:"text",id:"key",class:"block w-full p-4 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"XXX-XXX-XX",required:"","onUpdate:modelValue":a[0]||(a[0]=l=>s.value=l),min:"10"},null,512),[[Su,s.value]]),ve("button",{onClick:i,class:"text-white absolute end-2.5 bottom-2.5 bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-4 py-2 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"},"Activate")]),r.value?(Be(),Xe("div",np,vn(r.value),1)):Xr("",!0),ip]))}},ap=["src"],lp={__name:"ViewPage",setup(t){const e=Le(""),s=Le(null),r=Le(null),n=o=>{e.value=o;const a=s.value;a.load(),a.onloadedmetadata=()=>{a.requestFullscreen?a.requestFullscreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.webkitRequestFullscreen?a.webkitRequestFullscreen():a.msRequestFullscreen&&a.msRequestFullscreen(),a.play()}},i=()=>{s.value.pause()};return hn.channel("custom-insert-channel").on("postgres_changes",{event:"INSERT",schema:"public",table:"poolx"},o=>{Zs().getKey()===o.new.key&&(o.new.url==="stop"?(i(),e.value=""):n(o.new.url))}).subscribe(),Cn(()=>{}),(o,a)=>(Be(),Xe("div",{ref_key:"videoContainer",ref:r,style:{width:"100%",height:"100%"}},[ve("video",{ref_key:"videoPlayer",ref:s,src:e.value,controls:"",style:{width:"100%",height:"100%"}},null,8,ap)],512))}},cp={class:"container-card p-[2vh] flex"},up={__name:"TargetView",setup(t){const e=Ys();return(s,r)=>(Be(),Xe("div",cp,[ve("a",{href:"#",onClick:r[0]||(r[0]=n=>_t(e).push("/menu")),class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800"},"Table"),ve("a",{href:"#",onClick:r[1]||(r[1]=n=>_t(e).push("/view")),class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800"},"TV ")]))}},hp=In(up,[["__scopeId","data-v-7e1db4ee"]]),fp=Hh({history:_h("/tablet_ui/"),routes:[{path:"/",name:"login",component:op},{path:"/view",name:"view",component:lp},{path:"/target",name:"target",component:hp},{path:"/menu",name:"menu",component:ep}]}),Hn=Ou(Nu);Hn.use(Cu());Hn.use(fp);Hn.mount("#app");export{pp as g};
